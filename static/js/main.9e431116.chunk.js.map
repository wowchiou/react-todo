{"version":3,"sources":["containers/Signup/Signup.module.scss","containers/Signin/Signin.module.scss","containers/Todo/Todo.module.scss","hoc/withErrorHandler/withErrorHandler.module.scss","UI/Backdrop/Backdrop.module.scss","containers/Done/Done.module.scss","components/Layout/Layout.module.scss","components/Navigation/NavItem/NavItem.module.scss","UI/Input/Input.module.scss","components/TodoList/TodoList.module.scss","components/TodoList/TodoItem/TodoItem.module.scss","UI/Loading/Loading.module.scss","UI/Modal/Modal.module.scss","UI/Button/Button.module.scss","components/Navigation/Navigation.module.scss","UI/Card/Card.module.scss","shared/service.js","store/actions/auth-action.js","store/actionTypes.js","store/actions/todo-action.js","UI/Button/Button.js","shared/utility.js","hoc/withErrorHandler/withErrorHandler.js","hooks/http-error-handler.js","components/Navigation/NavItem/NavItem.js","components/Navigation/Navigation.js","components/Layout/Layout.js","UI/Input/Input.js","components/TodoList/TodoItem/TodoItem.js","components/TodoList/TodoList.js","UI/Loading/Loading.js","UI/Backdrop/Backdrop.js","UI/Modal/Modal.js","containers/Todo/Todo.js","containers/Done/Done.js","UI/Card/Card.js","components/SignForm/SignForm.js","containers/Signup/Signup.js","containers/Signin/Signin.js","App.js","store/reducers/auth-reducer.js","store/reducers/todo-reducer.js","index.js"],"names":["module","exports","Signup","wrap","title","loading","btns","popup","Signin","Todo","addBar","error","show","hide","Backdrop","Done","header","logout","NavItem","Input","TodoList","nothing","TodoItem","lds-ring","Modal","fadeInDown","close","Button","Navigation","Card","apiKey","ajaxBaseUrl","axios","create","baseURL","ajaxSignUp","data","response","regenerator_default","a","async","_context","prev","next","awrap","post","sent","abrupt","stop","ajaxSignIn","_context2","ajaxGetTodoList","_context3","get","concat","localStorage","getItem","ajaxAddTodoItem","_context4","ajaxUpdateTodoItemDone","id","_context5","put","ajaxDeleteTodoItem","_context6","delete","authSuccess","tokenId","userId","type","authFail","errorMessage","setAuthRedirectAuth","path","getFormValue","formList","Object","keys","map","itm","defineProperty","value","reduce","obj","el","objectSpread2","signOk","res","status","checkIsFormOk","result","filter","valid","length","passwordHasSameValue","password","comfirnPsw","todoActions","item","list","onDeleted","dispatch","updateList","t0","console","log","fetchTodoList","clearError","React","memo","props","react_default","createElement","className","styles","disabled","onClick","clicked","children","updateOBJ","currentState","updatedState","checkValidity","rules","isValid","required","trim","minLength","isEmail","test","withErrorHandler","WrappedComponents","withRouter","_useHttpErrorHandler","httpInstance","_useState","useState","_useState2","slicedToArray","setError","reqInterceptor","interceptors","request","use","req","resInterceptor","err","useEffect","eject","useCallback","useHttpErrorHandler","_useHttpErrorHandler2","classes","push","isLogOut","message","Fragment","join","Button_Button","removeItem","history","logOut","react_router_dom","to","link","exact","activeClassName","active","Navigation_NavItem_NavItem","connect","state","isLogIn","auth","onLogOut","components_Navigation_Navigation","react_router","touch","inputElement","assign","inputType","name","config","onChange","changed","isDoneButton","done","onCanceled","onFinished","defaultTag","listTag","todoItem","isDone","TodoList_TodoItem_TodoItem","key","Loading","globalModal","window","document","getElementById","modal","UI_Backdrop_Backdrop","createPortal","todoList","todo","actions","onAdded","listItem","updateValue","addTodoItem","setAddTodoItem","components_Layout_Layout","UI_Modal_Modal","UI_Input_Input","e","target","placeholder","UI_Loading_Loading","components_TodoList_TodoList","SignForm","idx","authRedirectPath","onSignUp","formData","signupResponse","clearAuthError","email","validRules","signupFormData","setSignupFormData","UI_Card_Card","card","components_SignForm_SignForm","ev","val","currentTarget","prevState","updatedData","authRedirectPAth","onLogin","idToken","localId","setItem","signInFormData","setSignInFormData","App","component","initState","authReducer","arguments","undefined","action","todoReducer","composeEnhancers","compose","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","app","es","src_App","ReactDOM","render"],"mappings":"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","file":"static/js/main.9e431116.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Signup\":\"Signup_Signup__2qtJk\",\"wrap\":\"Signup_wrap__8v4B7\",\"title\":\"Signup_title__2nu_r\",\"loading\":\"Signup_loading__ObD4t\",\"btns\":\"Signup_btns__3-FKC\",\"popup\":\"Signup_popup__Wxjwo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Signin\":\"Signin_Signin__2e031\",\"wrap\":\"Signin_wrap__x5NML\",\"title\":\"Signin_title__2WF6f\",\"loading\":\"Signin_loading__7_AKq\",\"btns\":\"Signin_btns__1tjCT\",\"popup\":\"Signin_popup__2dUO4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Todo\":\"Todo_Todo__-Q6Ol\",\"addBar\":\"Todo_addBar__3RSjp\",\"loading\":\"Todo_loading__1MyYK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"withErrorHandler_error__3kl37\",\"show\":\"withErrorHandler_show__3a0L4\",\"hide\":\"withErrorHandler_hide__1Ddjw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__36ATE\",\"hide\":\"Backdrop_hide__2O0of\",\"show\":\"Backdrop_show__1ccD5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Done\":\"Done_Done__QevfN\",\"addBar\":\"Done_addBar__3p5z0\",\"loading\":\"Done_loading__1gvvS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Layout_header__20f77\",\"logout\":\"Layout_logout__1GsBe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavItem\":\"NavItem_NavItem__3DdHv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__-lHNF\",\"error\":\"Input_error__2MrBe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TodoList\":\"TodoList_TodoList__2Ovt2\",\"nothing\":\"TodoList_nothing__QUY40\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TodoItem\":\"TodoItem_TodoItem__3HHw_\",\"btns\":\"TodoItem_btns__3WzMK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__SWxUm\",\"lds-ring\":\"Loading_lds-ring__2c7QY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__3xBhX\",\"fadeInDown\":\"Modal_fadeInDown__18j2P\",\"close\":\"Modal_close__2np8F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__qseUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__3IToe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"Card_Card__3zacT\"};","import axios from 'axios';\r\n\r\nconst apiKey = 'AIzaSyAzWGnKUYY8e6g9oASL90g7tj4TjoVCRGg';\r\n\r\nexport const ajaxBaseUrl = axios.create({\r\n  baseURL: 'https://react-my-test-fb5ea.firebaseio.com/'\r\n});\r\n\r\nexport const ajaxSignUp = async data => {\r\n  const response = await axios.post(\r\n    'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=' + apiKey,\r\n    data\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const ajaxSignIn = async data => {\r\n  const response = await axios.post(\r\n    'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=' +\r\n      apiKey,\r\n    data\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const ajaxGetTodoList = async () => {\r\n  const response = await ajaxBaseUrl.get(\r\n    `/todo/${localStorage.getItem('userId')}.json`\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const ajaxAddTodoItem = async data => {\r\n  const response = await ajaxBaseUrl.post(\r\n    `/todo/${localStorage.getItem('userId')}.json`,\r\n    data\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const ajaxUpdateTodoItemDone = async (id, data) => {\r\n  const response = await ajaxBaseUrl.put(\r\n    `/todo/${localStorage.getItem('userId')}/${id}.json`,\r\n    data\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const ajaxDeleteTodoItem = async id => {\r\n  const response = await ajaxBaseUrl.delete(\r\n    `/todo/${localStorage.getItem('userId')}/${id}.json`\r\n  );\r\n  return response;\r\n};\r\n","import { ajaxSignIn, ajaxSignUp } from '../../shared/service';\r\nimport * as actionTypes from '../actionTypes';\r\n\r\nexport const authStart = () => {\r\n  return {\r\n    type: actionTypes.AUTH_START\r\n  };\r\n};\r\n\r\nexport const authSuccess = (tokenId, userId) => {\r\n  return {\r\n    type: actionTypes.AUTH_SUCCESS,\r\n    tokenId: tokenId,\r\n    userId: userId\r\n  };\r\n};\r\n\r\nexport const authFail = errorMessage => {\r\n  return {\r\n    type: actionTypes.AUTH_FAIL,\r\n    errorMessage: errorMessage\r\n  };\r\n};\r\n\r\nexport const authLogout = () => {\r\n  return {\r\n    type: actionTypes.AUTH_LOGOUT\r\n  };\r\n};\r\n\r\nexport const clearAuthError = () => {\r\n  return {\r\n    type: actionTypes.AUTH_CLEAR_ERROR\r\n  };\r\n};\r\n\r\nexport const setAuthRedirectAuth = path => {\r\n  return {\r\n    type: actionTypes.AUTH_REDIRECT_PATH,\r\n    path: path\r\n  };\r\n};\r\n\r\nexport const onLogin = formData => {\r\n  return async dispatch => {\r\n    dispatch(authStart());\r\n    if (!checkIsFormOk(formData)) {\r\n      return dispatch(authFail('填入資料不正確,請檢查後再發送'));\r\n    }\r\n    try {\r\n      const data = getFormValue(formData);\r\n      const response = await ajaxSignIn(data);\r\n      if (response) {\r\n        if (signOk(response)) {\r\n          const tokenId = response.data.idToken;\r\n          const userId = response.data.localId;\r\n\r\n          localStorage.setItem('idToken', tokenId);\r\n          localStorage.setItem('userId', userId);\r\n          dispatch(setAuthRedirectAuth('/'));\r\n          dispatch(authSuccess(tokenId, userId));\r\n        }\r\n      }\r\n    } catch (error) {\r\n      dispatch(authFail('登入失敗'));\r\n    }\r\n  };\r\n};\r\n\r\nexport const onSignUp = formData => {\r\n  return async dispatch => {\r\n    dispatch(authStart());\r\n    if (!checkIsFormOk(formData)) {\r\n      return dispatch(authFail('填入資料不正確,請檢查後再發送'));\r\n    }\r\n    if (!passwordHasSameValue(formData)) {\r\n      return dispatch(authFail('密碼不一致,請重新輸入後再發送'));\r\n    }\r\n    try {\r\n      const data = getFormValue(formData);\r\n      const signupResponse = await ajaxSignUp(data);\r\n      if (signupResponse) {\r\n        if (signOk(signupResponse)) {\r\n          dispatch(setAuthRedirectAuth('/signin'));\r\n        }\r\n      }\r\n    } catch (error) {\r\n      return dispatch(authFail('寫入資料失敗'));\r\n    }\r\n  };\r\n};\r\n\r\nexport const onLogOut = () => {\r\n  return dispatch => {\r\n    dispatch(authLogout());\r\n    localStorage.removeItem('idToken');\r\n    localStorage.removeItem('userId');\r\n  };\r\n};\r\n\r\nfunction getFormValue(formList) {\r\n  const result = Object.keys(formList)\r\n    .map(itm => {\r\n      if (itm === 'email' || itm === 'password') {\r\n        return { [itm]: formList[itm].value };\r\n      } else {\r\n        return {};\r\n      }\r\n    })\r\n    .reduce((obj, el) => {\r\n      return { ...obj, ...el };\r\n    }, {});\r\n  return result;\r\n}\r\n\r\nfunction signOk(res) {\r\n  return res.status === '200' || res.status === 200;\r\n}\r\n\r\nfunction checkIsFormOk(data) {\r\n  let result = false;\r\n  const validData = Object.keys(data).filter(itm => data[itm].valid === false);\r\n  if (validData.length === 0) {\r\n    result = true;\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction passwordHasSameValue(data) {\r\n  return data.password.value === data.comfirnPsw.value;\r\n}\r\n","export const AUTH_START = 'AUTH_START';\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\r\nexport const AUTH_FAIL = 'AUTH_FAIL';\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT';\r\nexport const AUTH_CLEAR_ERROR = 'AUTH_CLEAR_ERROR';\r\nexport const AUTH_REDIRECT_PATH = 'AUTH_REDIRECT_PATH';\r\n\r\nexport const TODO_START = 'TODO_START';\r\nexport const TODO_FAIL = 'TODO_FAIL';\r\nexport const TODO_UPDATE_ITEM = 'TODO_UPDATE_ITEM';\r\nexport const TODO_UPDATE_LIST = 'TODO_UPDATE_LIST';\r\nexport const TODO_CLEAR_ERROR = 'TODO_CLEAR_ERROR';\r\n","import * as actionTypes from '../actionTypes';\r\nimport {\r\n  ajaxAddTodoItem,\r\n  ajaxDeleteTodoItem,\r\n  ajaxGetTodoList,\r\n  ajaxUpdateTodoItemDone\r\n} from '../../shared/service';\r\n\r\nexport const todoActions = {\r\n  start: () => {\r\n    return {\r\n      type: actionTypes.TODO_START\r\n    };\r\n  },\r\n  fail: errorMessage => {\r\n    return {\r\n      type: actionTypes.TODO_FAIL,\r\n      errorMessage: errorMessage\r\n    };\r\n  },\r\n  updateItem: (id, item) => {\r\n    return {\r\n      type: actionTypes.TODO_UPDATE_ITEM,\r\n      id: id,\r\n      item: item\r\n    };\r\n  },\r\n  updateList: list => {\r\n    return {\r\n      type: actionTypes.TODO_UPDATE_LIST,\r\n      list: list\r\n    };\r\n  },\r\n  clearError: () => {\r\n    return {\r\n      type: actionTypes.TODO_CLEAR_ERROR\r\n    };\r\n  }\r\n};\r\n\r\nexport const onAdded = listItem => {\r\n  return async dispatch => {\r\n    if (listItem.trim() === '') return;\r\n    try {\r\n      dispatch(todoActions.start());\r\n      const todoItem = {\r\n        item: listItem,\r\n        isDone: false\r\n      };\r\n      const res = await ajaxAddTodoItem(todoItem);\r\n      const id = res.data.name;\r\n      dispatch(todoActions.updateItem(id, todoItem));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(todoActions.fail('新增項目發生錯誤'));\r\n    }\r\n  };\r\n};\r\n\r\nexport const onFinished = (id, list) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(todoActions.start());\r\n      const updateValue = Object.keys(list)\r\n        .map(itm => {\r\n          if (itm === id) return list[itm];\r\n        })\r\n        .reduce((obj, el) => {\r\n          return {\r\n            ...obj,\r\n            ...el,\r\n            isDone: true\r\n          };\r\n        }, {});\r\n      await ajaxUpdateTodoItemDone(id, updateValue);\r\n      dispatch(todoActions.updateItem(id, updateValue));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(todoActions.fail('更新項目發生錯誤'));\r\n    }\r\n  };\r\n};\r\n\r\nexport const onDeleted = (id, list) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(todoActions.start());\r\n      await ajaxDeleteTodoItem(id);\r\n      const updateList = Object.keys(list)\r\n        .map(itm => {\r\n          if (itm !== id) return { [itm]: { ...list[itm] } };\r\n        })\r\n        .reduce((obj, el) => {\r\n          return {\r\n            ...obj,\r\n            ...el\r\n          };\r\n        }, {});\r\n      dispatch(todoActions.updateList(updateList));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(todoActions.fail('刪除項目發生錯誤'));\r\n    }\r\n  };\r\n};\r\n\r\nexport const onCanceled = (id, list) => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(todoActions.start());\r\n      const updateList = Object.keys(list)\r\n        .map(itm => {\r\n          if (itm === id) return list[itm];\r\n        })\r\n        .reduce((obj, el) => {\r\n          return {\r\n            ...obj,\r\n            ...el,\r\n            isDone: false\r\n          };\r\n        }, {});\r\n      await ajaxUpdateTodoItemDone(id, updateList);\r\n      dispatch(todoActions.updateList(updateList));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(todoActions.fail('更新項目發生錯誤'));\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchTodoList = () => {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch(todoActions.start());\r\n      const res = await ajaxGetTodoList();\r\n      const list = res.data;\r\n      dispatch(todoActions.updateList(list));\r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch(todoActions.fail('讀取項目發生錯誤'));\r\n    }\r\n  };\r\n};\r\n\r\nexport const clearError = () => {\r\n  return dispatch => {\r\n    dispatch(todoActions.clearError());\r\n  };\r\n};\r\n","import React from 'react';\r\nimport styles from './Button.module.scss';\r\n\r\nconst Button = React.memo(props => {\r\n  return (\r\n    <button\r\n      className={styles.Button}\r\n      disabled={props.disabled}\r\n      onClick={props.clicked}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n});\r\n\r\nexport default React.memo(Button);\r\n","export const updateOBJ = (currentState, updatedState) => {\r\n  return {\r\n    ...currentState,\r\n    ...updatedState\r\n  };\r\n};\r\n\r\nexport const checkValidity = (value, rules) => {\r\n  let isValid = true;\r\n\r\n  if (!rules) return true;\r\n\r\n  if (rules.required) {\r\n    isValid = value.trim() !== '' && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  if (rules.minLength) {\r\n    isValid = value.length >= rules.minLength && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  if (rules.isEmail) {\r\n    const emailReg = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n    isValid = emailReg.test(value) && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nexport const logOut = props => {\r\n  localStorage.removeItem('idToken');\r\n  localStorage.removeItem('userId');\r\n  props.history.push('/signin');\r\n};\r\n","import React from 'react';\r\nimport styles from './withErrorHandler.module.scss';\r\nimport { withRouter } from 'react-router-dom';\r\nimport useHttpErrorHandler from '../../hooks/http-error-handler';\r\nimport Button from '../../UI/Button/Button';\r\nimport { logOut } from '../../shared/utility';\r\n\r\nconst withErrorHandler = (WrappedComponents, axios) => {\r\n  return withRouter(props => {\r\n    const [error, clearError] = useHttpErrorHandler(axios);\r\n\r\n    let classes = [styles.error];\r\n    error ? classes.push(styles.show) : classes.push(styles.hide);\r\n\r\n    let errorMessage = '';\r\n    let isLogOut = false;\r\n\r\n    if (error && error.response) {\r\n      if (error.response.status === 404) {\r\n        errorMessage = '系統發生問題,請稍候再試';\r\n        isLogOut = true;\r\n      } else {\r\n        errorMessage = error.response.data.error.message;\r\n      }\r\n    } else if (error && !error.response) {\r\n      errorMessage = '請確認網路連線';\r\n    } else {\r\n      errorMessage = '系統發生問題,請稍候再試';\r\n    }\r\n\r\n    const logOutHandler = () => {\r\n      logOut(props);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <div className={classes.join(' ')}>\r\n          <p>{errorMessage}</p>\r\n          <Button clicked={isLogOut ? logOutHandler : clearError}>確認</Button>\r\n        </div>\r\n        <WrappedComponents {...props} />\r\n      </>\r\n    );\r\n  });\r\n};\r\n\r\nexport default withErrorHandler;\r\n","import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport default httpInstance => {\r\n  const [error, setError] = useState(null);\r\n\r\n  const reqInterceptor = httpInstance.interceptors.request.use(req => {\r\n    setError(null);\r\n    return req;\r\n  });\r\n\r\n  const resInterceptor = httpInstance.interceptors.response.use(\r\n    res => res,\r\n    err => {\r\n      setError(err);\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      httpInstance.interceptors.request.eject(reqInterceptor);\r\n      httpInstance.interceptors.response.eject(resInterceptor);\r\n    };\r\n  }, [\r\n    httpInstance.interceptors.request,\r\n    httpInstance.interceptors.response,\r\n    reqInterceptor,\r\n    resInterceptor\r\n  ]);\r\n\r\n  const errorConfirmedHandler = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  return [error, errorConfirmedHandler];\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport styles from './NavItem.module.scss';\r\n\r\nconst NavItem = props => {\r\n  return (\r\n    <li className={styles.NavItem}>\r\n      <NavLink\r\n        to={props.link}\r\n        exact={props.exact}\r\n        activeClassName={styles.active}\r\n      >\r\n        {props.children}\r\n      </NavLink>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default NavItem;\r\n","import React from 'react';\r\nimport NavItem from './NavItem/NavItem';\r\n\r\nimport styles from './Navigation.module.scss';\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <ul className={styles.Navigation}>\r\n      <NavItem link=\"/\" exact>\r\n        TODO\r\n      </NavItem>\r\n      <NavItem link=\"/done\">Done</NavItem>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport styles from './Layout.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../store/actions/index';\r\n\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isLogIn: state.auth.tokenId !== null\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onLogOut: () => dispatch(actions.onLogOut())\r\n  };\r\n};\r\n\r\nconst Layout = props => {\r\n  const { onLogOut, children, isLogIn } = props;\r\n\r\n  return (\r\n    <>\r\n      <header className={styles.header}>\r\n        <Navigation />\r\n        <div className={styles.logout}>\r\n          <Button clicked={onLogOut}>登出</Button>\r\n        </div>\r\n      </header>\r\n      <main>\r\n        {!isLogIn && <Redirect to=\"signin\" />}\r\n        {children}\r\n      </main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(Layout));\r\n","import React from 'react';\r\nimport styles from './Input.module.scss';\r\n\r\nconst Input = props => {\r\n  const classes = [styles.Input];\r\n  !props.valid && props.touch && classes.push(styles.error);\r\n\r\n  let inputElement = <p>Input Error</p>;\r\n\r\n  switch (props.type) {\r\n    case 'input':\r\n      return (inputElement = (\r\n        <input\r\n          className={classes.join(' ')}\r\n          type={props.inputType}\r\n          name={props.name}\r\n          {...props.config}\r\n          value={props.value}\r\n          onChange={props.changed}\r\n        />\r\n      ));\r\n    case 'select':\r\n      return;\r\n    case 'textarea':\r\n      return;\r\n    default:\r\n      return inputElement;\r\n  }\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport styles from './TodoItem.module.scss';\r\nimport Button from '../../../UI/Button/Button';\r\n\r\nconst TodoItem = props => {\r\n  const { item, done, onCanceled, onFinished, onDeleted } = props;\r\n  let isDoneButton;\r\n  if (done) {\r\n    isDoneButton = <Button clicked={onCanceled}>取消</Button>;\r\n  } else {\r\n    isDoneButton = <Button clicked={onFinished}>完成</Button>;\r\n  }\r\n\r\n  return (\r\n    <li className={styles.TodoItem}>\r\n      <p>{item}</p>\r\n      <div className={styles.btns}>\r\n        {isDoneButton}\r\n        <Button clicked={onDeleted}>刪除</Button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import React from 'react';\r\nimport styles from './TodoList.module.scss';\r\nimport TodoItem from './TodoItem/TodoItem';\r\n\r\nconst TodoList = props => {\r\n  const { list, done, onCanceled, onFinished, onDeleted } = props;\r\n\r\n  const defaultTag = <li className={styles.nothing}>目前無代辦事項</li>;\r\n  let listTag = defaultTag;\r\n\r\n  if (list) {\r\n    listTag = Object.keys(list).map(itm => {\r\n      let todoItem = false;\r\n      if (list[itm].isDone === done) {\r\n        todoItem = (\r\n          <TodoItem\r\n            key={itm}\r\n            item={list[itm].item}\r\n            onFinished={() => onFinished(itm, list)}\r\n            onDeleted={() => onDeleted(itm, list)}\r\n            onCanceled={() => onCanceled(itm, list)}\r\n            done={done}\r\n          />\r\n        );\r\n      }\r\n      return todoItem;\r\n    });\r\n\r\n    // 如果list無資料顯示預設文字\r\n    const listTagLength = listTag.filter(itm => itm).length;\r\n    if (listTagLength === 0) {\r\n      listTag = defaultTag;\r\n    }\r\n  }\r\n\r\n  return <ul className={styles.TodoList}>{listTag}</ul>;\r\n};\r\n\r\nexport default TodoList;\r\n","import React from 'react';\r\nimport styles from './Loading.module.scss';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={styles.Loading}>\r\n      <div className={styles.loading}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\n\r\nimport styles from './Backdrop.module.scss';\r\n\r\nconst Backdrop = props => {\r\n  const classes = [styles.Backdrop];\r\n  props.show ? classes.push(styles.show) : classes.push(styles.hide);\r\n\r\n  return <div className={classes.join(' ')} onClick={props.clicked}></div>;\r\n};\r\n\r\nexport default Backdrop;\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nimport styles from './Modal.module.scss';\r\n\r\nconst Modal = props => {\r\n  const globalModal = window.document.getElementById('global-modal');\r\n\r\n  const modal = (\r\n    <>\r\n      {console.log(props.show)}\r\n      <Backdrop show={props.show} clicked={props.clicked} />\r\n      <div className={styles.Modal}>\r\n        <div className={styles.close} onClick={props.clicked}>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        {props.children}\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return createPortal(modal, globalModal);\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './Todo.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../store/actions/index';\r\nimport { ajaxBaseUrl as axios } from '../../shared/service';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport Layout from '../../components/Layout/Layout';\r\nimport Input from '../../UI/Input/Input';\r\nimport Button from '../../UI/Button/Button';\r\nimport TodoList from '../../components/TodoList/TodoList';\r\nimport Loading from '../../UI/Loading/Loading';\r\nimport Modal from '../../UI/Modal/Modal';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    todoList: state.todo.todoList,\r\n    loading: state.todo.loading,\r\n    error: state.todo.error\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    fetchTodoList: () => dispatch(actions.fetchTodoList()),\r\n    onAdded: item => dispatch(actions.onAdded(item)),\r\n    onFinished: (id, list) => dispatch(actions.onFinished(id, list)),\r\n    onDeleted: (id, list) => dispatch(actions.onDeleted(id, list)),\r\n    clearError: () => dispatch(actions.clearError())\r\n  };\r\n};\r\n\r\nconst Todo = props => {\r\n  const {\r\n    todoList,\r\n    loading,\r\n    error,\r\n    fetchTodoList,\r\n    onAdded,\r\n    onDeleted,\r\n    onFinished,\r\n    clearError\r\n  } = props;\r\n\r\n  const [addTodoItem, setAddTodoItem] = useState('');\r\n\r\n  const changeAddItemHandler = e => {\r\n    setAddTodoItem(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchTodoList();\r\n  }, [fetchTodoList]);\r\n\r\n  return (\r\n    <Layout>\r\n      {error && (\r\n        <Modal show clicked={clearError}>\r\n          {error}\r\n        </Modal>\r\n      )}\r\n      <div className={styles.Todo}>\r\n        <h2 className={styles.title}>新增項目</h2>\r\n        <div className={styles.addBar}>\r\n          <Input\r\n            type=\"input\"\r\n            inputType=\"text\"\r\n            name=\"add-todo\"\r\n            value={addTodoItem}\r\n            changed={changeAddItemHandler}\r\n            config={{ placeholder: '請輸入新增項目' }}\r\n          />\r\n          <Button clicked={() => onAdded(addTodoItem)}>ADD</Button>\r\n        </div>\r\n\r\n        <h2 className={styles.title}>\r\n          待完成項目\r\n          <div className={styles.loading}>{loading && <Loading />}</div>\r\n        </h2>\r\n        <TodoList\r\n          list={todoList}\r\n          onFinished={onFinished}\r\n          onDeleted={onDeleted}\r\n          done={false}\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(Todo, axios));\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './Done.module.scss';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../store/actions/index';\r\nimport { ajaxBaseUrl as axios } from '../../shared/service';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport Layout from '../../components/Layout/Layout';\r\nimport TodoList from '../../components/TodoList/TodoList';\r\nimport Loading from '../../UI/Loading/Loading';\r\nimport Modal from '../../UI/Modal/Modal';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    todoList: state.todo.todoList,\r\n    loading: state.todo.loading,\r\n    error: state.todo.error\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    fetchTodoList: () => dispatch(actions.fetchTodoList()),\r\n    onDeleted: (id, list) => dispatch(actions.onDeleted(id, list)),\r\n    onCanceled: (id, list) => dispatch(actions.onCanceled(id, list)),\r\n    clearError: () => dispatch(actions.clearError())\r\n  };\r\n};\r\n\r\nconst Done = props => {\r\n  const {\r\n    todoList,\r\n    loading,\r\n    error,\r\n    fetchTodoList,\r\n    onDeleted,\r\n    onCanceled,\r\n    clearError\r\n  } = props;\r\n\r\n  useEffect(() => {\r\n    fetchTodoList();\r\n  }, [fetchTodoList]);\r\n\r\n  return (\r\n    <Layout>\r\n      {error && (\r\n        <Modal show clicked={clearError}>\r\n          {error}\r\n        </Modal>\r\n      )}\r\n      <div className={styles.Done}>\r\n        <h2 className={styles.title}>\r\n          已完成項目\r\n          <div className={styles.loading}>{loading && <Loading />}</div>\r\n        </h2>\r\n        <TodoList\r\n          list={todoList}\r\n          onCanceled={onCanceled}\r\n          onDeleted={onDeleted}\r\n          done={true}\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(Done, axios));\r\n","import React from 'react';\r\nimport styles from './Card.module.scss';\r\n\r\nconst Card = props => <div className={styles.Card}>{props.children}</div>;\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Input from '../../UI/Input/Input';\r\n\r\nconst SignForm = props => {\r\n  return Object.keys(props.data).map((itm, idx) => {\r\n    return (\r\n      <Input\r\n        key={itm + idx}\r\n        type={props.data[itm].type}\r\n        inputType={props.data[itm].inputType}\r\n        name={itm}\r\n        config={props.data[itm].config}\r\n        changed={e => props.changed(e, itm)}\r\n        value={props.data[itm].value}\r\n        valid={props.data[itm].valid}\r\n        touch={props.data[itm].touch}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\nexport default SignForm;\r\n","import React, { useState } from 'react';\r\nimport styles from './Signup.module.scss';\r\nimport axios from 'axios';\r\nimport { updateOBJ, checkValidity } from '../../shared/utility';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport * as actions from '../../store/actions/index';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport Button from '../../UI/Button/Button';\r\nimport Card from '../../UI/Card/Card';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport Loading from '../../UI/Loading/Loading';\r\nimport SignForm from '../../components/SignForm/SignForm';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    loading: state.auth.loading,\r\n    error: state.auth.error,\r\n    authRedirectPath: state.auth.authRedirectPath\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onSignUp: data => dispatch(actions.onSignUp(data)),\r\n    clearAuthError: () => dispatch(actions.clearAuthError())\r\n  };\r\n};\r\n\r\nconst Signup = props => {\r\n  const { loading, error, clearAuthError, onSignUp, authRedirectPath } = props;\r\n\r\n  const [signupFormData, setSignupFormData] = useState({\r\n    email: {\r\n      type: 'input',\r\n      inputType: 'email',\r\n      config: {\r\n        placeholder: 'email address'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        isEmail: true\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    password: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    comfirnPsw: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'comfirn password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    }\r\n  });\r\n\r\n  const changeHandler = (ev, type) => {\r\n    const val = ev.currentTarget.value;\r\n    setSignupFormData(prevState => {\r\n      const updatedData = updateOBJ(prevState[type], {\r\n        value: val,\r\n        valid: checkValidity(val, prevState[type].validRules),\r\n        touch: true\r\n      });\r\n      return updateOBJ(prevState, { [type]: updatedData });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Signup}>\r\n      {authRedirectPath !== '/' && <Redirect to={authRedirectPath} />}\r\n\r\n      {error && (\r\n        <Modal show clicked={clearAuthError}>\r\n          {error}\r\n        </Modal>\r\n      )}\r\n\r\n      <div className={styles.wrap}>\r\n        <Card className={styles.card}>\r\n          <div className={styles.title}>\r\n            <span>註冊</span>\r\n            <div className={styles.loading}>{loading && <Loading />}</div>\r\n          </div>\r\n          <div>\r\n            <SignForm data={signupFormData} changed={changeHandler} />\r\n          </div>\r\n          <div className={styles.btns}>\r\n            <Button clicked={() => onSignUp(signupFormData)}>送出</Button>\r\n            <Button clicked={() => props.history.push('/signin')}>登入</Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(Signup, axios));\r\n","import React, { useState } from 'react';\r\nimport styles from './Signin.module.scss';\r\nimport axios from 'axios';\r\nimport { updateOBJ, checkValidity } from '../../shared/utility';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../store/actions/index';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport Button from '../../UI/Button/Button';\r\nimport Card from '../../UI/Card/Card';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport Loading from '../../UI/Loading/Loading';\r\nimport SignForm from '../../components/SignForm/SignForm';\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isLogIn: state.auth.tokenId !== null,\r\n    loading: state.auth.loading,\r\n    error: state.auth.error,\r\n    authRedirectPath: state.auth.authRedirectPAth\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onLogin: data => dispatch(actions.onLogin(data)),\r\n    clearAuthError: () => dispatch(actions.clearAuthError())\r\n  };\r\n};\r\n\r\nconst Signin = props => {\r\n  const {\r\n    isLogIn,\r\n    loading,\r\n    error,\r\n    onLogin,\r\n    clearAuthError,\r\n    authRedirectPath\r\n  } = props;\r\n\r\n  const [signInFormData, setSignInFormData] = useState({\r\n    email: {\r\n      type: 'input',\r\n      inputType: 'email',\r\n      config: {\r\n        placeholder: 'email address'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        isEmail: true\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    password: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    }\r\n  });\r\n\r\n  const changeHandler = (e, type) => {\r\n    const val = e.currentTarget.value;\r\n    setSignInFormData(prevState => {\r\n      const updatedData = updateOBJ(prevState[type], {\r\n        value: val,\r\n        valid: checkValidity(val, prevState[type].validRules),\r\n        touch: true\r\n      });\r\n      return updateOBJ(prevState, { [type]: updatedData });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.Signin}>\r\n      {isLogIn && <Redirect to={authRedirectPath} />}\r\n\r\n      {error && (\r\n        <Modal show clicked={clearAuthError}>\r\n          {error}\r\n        </Modal>\r\n      )}\r\n\r\n      <div className={styles.wrap}>\r\n        <Card className={styles.card}>\r\n          <div className={styles.title}>\r\n            <span>登入</span>\r\n            <div className={styles.loading}>{loading && <Loading />}</div>\r\n          </div>\r\n          <div>\r\n            <SignForm data={signInFormData} changed={changeHandler} />\r\n          </div>\r\n          <div className={styles.btns}>\r\n            <Button clicked={() => onLogin(signInFormData)}>送出</Button>\r\n            <Button clicked={() => props.history.push('/signup')}>註冊</Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withErrorHandler(Signin, axios));\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Todo from './containers/Todo/Todo';\r\nimport Done from './containers/Done/Done';\r\nimport Signup from './containers/Signup/Signup';\r\nimport Signin from './containers/Signin/Signin';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Todo} />\r\n        <Route path=\"/done\" component={Done} />\r\n        <Route path=\"/signup\" component={Signup} />\r\n        <Route path=\"/signin\" component={Signin} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n\r\n      <div id=\"global-modal\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import * as actionTypes from '../actionTypes';\r\n\r\nconst initState = {\r\n  tokenId: null,\r\n  userId: null,\r\n  error: null,\r\n  loading: false,\r\n  authRedirectPath: '/'\r\n};\r\n\r\nconst authReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.AUTH_START:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n        loading: true\r\n      };\r\n    case actionTypes.AUTH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        tokenId: action.tokenId,\r\n        userId: action.userId,\r\n        error: null,\r\n        loading: false\r\n      };\r\n    case actionTypes.AUTH_FAIL:\r\n      return {\r\n        ...state,\r\n        error: action.errorMessage,\r\n        loading: false\r\n      };\r\n    case actionTypes.AUTH_LOGOUT:\r\n      return {\r\n        ...state,\r\n        tokenId: null,\r\n        userId: null,\r\n        authRedirectPath: '/signin'\r\n      };\r\n    case actionTypes.AUTH_CLEAR_ERROR:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n        loading: false\r\n      };\r\n    case actionTypes.AUTH_REDIRECT_PATH:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        authRedirectPath: action.path\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import * as actionTypes from '../actionTypes';\r\n\r\nconst initState = {\r\n  todoList: null,\r\n  loading: false,\r\n  error: null\r\n};\r\n\r\nconst todoReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.TODO_START:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        error: null\r\n      };\r\n    case actionTypes.TODO_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.errorMessage\r\n      };\r\n    case actionTypes.TODO_UPDATE_ITEM:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        todoList: {\r\n          ...state.todoList,\r\n          [action.id]: {\r\n            ...action.item\r\n          }\r\n        }\r\n      };\r\n    case actionTypes.TODO_UPDATE_LIST:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: null,\r\n        todoList: {\r\n          ...action.list\r\n        }\r\n      };\r\n    case actionTypes.TODO_CLEAR_ERROR:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: false\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default todoReducer;\r\n","import React from 'react';\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport authReducer from './store/reducers/auth-reducer';\r\nimport todoReducer from './store/reducers/todo-reducer';\r\nimport thunk from 'redux-thunk';\r\n\r\n// 使用redux devTool設定\r\nconst composeEnhancers =\r\n  process.env.NODE_ENV === 'development'\r\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    : null || compose;\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  todo: todoReducer\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nconst app = (\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n"],"sourceRoot":""}