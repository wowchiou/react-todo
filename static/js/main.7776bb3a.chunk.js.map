{"version":3,"sources":["containers/Signup/Signup.module.scss","containers/Signin/Signin.module.scss","containers/Todo/Todo.module.scss","hoc/withErrorHandler/withErrorHandler.module.scss","UI/Backdrop/Backdrop.module.scss","components/Layout/Layout.module.scss","components/Navigation/NavItem/NavItem.module.scss","UI/Input/Input.module.scss","UI/Modal/Modal.module.scss","UI/Loading/Loading.module.scss","components/Navigation/Navigation.module.scss","UI/Button/Button.module.scss","UI/Card/Card.module.scss","axios-instence.js","components/Navigation/NavItem/NavItem.js","components/Navigation/Navigation.js","UI/Button/Button.js","components/Layout/Layout.js","UI/Input/Input.js","containers/Todo/Todo.js","containers/Done/Done.js","shared/utility.js","shared/reducer.js","hoc/withErrorHandler/withErrorHandler.js","hooks/http-error-handler.js","UI/Card/Card.js","UI/Backdrop/Backdrop.js","UI/Modal/Modal.js","UI/Loading/Loading.js","components/SignForm/SignForm.js","containers/Signup/Signup.js","containers/Signin/Signin.js","App.js","index.js"],"names":["module","exports","Signup","wrap","title","loading","btns","popup","Signin","Todo","addBar","error","show","hide","Backdrop","header","logout","NavItem","Input","Modal","fadeInDown","close","lds-ring","Navigation","Button","Card","apiKey","todoInstence","axios","create","baseURL","signupInstance","data","response","regenerator_default","a","async","_context","prev","next","awrap","post","sent","abrupt","stop","signinInstance","_context2","props","react_default","createElement","className","styles","react_router_dom","to","link","exact","activeClassName","active","children","Navigation_NavItem_NavItem","React","memo","console","log","disabled","onClick","clicked","withRouter","localStorage","getItem","history","push","Fragment","components_Navigation_Navigation","Button_Button","removeItem","classes","valid","touch","inputElement","type","Object","assign","join","inputType","name","config","value","onChange","changed","_useState","useState","_useState2","slicedToArray","addTodoItem","setAddTodoItem","components_Layout_Layout","UI_Input_Input","e","target","placeholder","item","then","res","items","Done","updateOBJ","currentState","updatedState","objectSpread2","checkValidity","rules","isValid","required","trim","minLength","length","isEmail","test","httpReducer","action","errorMessage","Error","withErrorHandler","WrappedComponents","_useHttpErrorHandler","httpInstance","setError","reqInterceptor","interceptors","request","use","req","resInterceptor","err","useEffect","eject","useCallback","useHttpErrorHandler","_useHttpErrorHandler2","clearError","message","globalModal","window","document","getElementById","modal","UI_Backdrop_Backdrop","createPortal","Loading","SignForm","keys","map","itm","idx","key","_useReducer","useReducer","_useReducer2","httpStatus","dispatchHttpStatus","email","validRules","password","comfirnPsw","signupFormData","setSignupFormData","changeHandler","ev","val","currentTarget","prevState","updatedData","defineProperty","signupHandler","formData","signupResponse","getFormValue","signupOk","checkIsFormOk","passwordHasSameValue","result","filter","status","formList","reduce","obj","el","clearModal","UI_Modal_Modal","UI_Card_Card","card","UI_Loading_Loading","components_SignForm_SignForm","signinFormData","setSigninFormData","signinResponse","signinOk","login","token","setItem","idToken","signinHandler","App","react_router","path","component","id","app","src_App","ReactDOM","render"],"mappings":"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","file":"static/js/main.7776bb3a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Signup\":\"Signup_Signup__HxM2G\",\"wrap\":\"Signup_wrap__1M42O\",\"title\":\"Signup_title__35SL0\",\"loading\":\"Signup_loading__39rvN\",\"btns\":\"Signup_btns__2zGiS\",\"popup\":\"Signup_popup__3D6tu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Signin\":\"Signin_Signin__29PCt\",\"wrap\":\"Signin_wrap__3ftIN\",\"title\":\"Signin_title__2oYXY\",\"loading\":\"Signin_loading__1BwJT\",\"btns\":\"Signin_btns__apeSs\",\"popup\":\"Signin_popup__LnR_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Todo\":\"Todo_Todo__hx4er\",\"addBar\":\"Todo_addBar__2eopu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"withErrorHandler_error__17OP8\",\"show\":\"withErrorHandler_show__2-T-b\",\"hide\":\"withErrorHandler_hide__uIUIb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__haGuA\",\"hide\":\"Backdrop_hide__YutH5\",\"show\":\"Backdrop_show__3d7qs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Layout_header__2xoJq\",\"logout\":\"Layout_logout__3vwyF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavItem\":\"NavItem_NavItem__aPQlA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__mWMod\",\"error\":\"Input_error__57kT7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__2-3xg\",\"fadeInDown\":\"Modal_fadeInDown__3qMva\",\"close\":\"Modal_close__3Bb7f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__utX7h\",\"lds-ring\":\"Loading_lds-ring__1K9EY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1E364\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Is6j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"Card_Card__ReLmv\"};","import axios from 'axios';\r\n\r\nconst apiKey = 'AIzaSyAzWGnKUYY8e6g9oASL90g7tj4TjoVCRGg';\r\n\r\nexport const todoInstence = axios.create({\r\n  baseURL: 'https://react-my-test-fb5ea.firebaseio.com/'\r\n});\r\n\r\nexport const signupInstance = async data => {\r\n  const response = await axios.post(\r\n    'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=' + apiKey,\r\n    data\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const signinInstance = async data => {\r\n  const response = await axios.post(\r\n    'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=' +\r\n      apiKey,\r\n    data\r\n  );\r\n  return response;\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport styles from './NavItem.module.scss';\r\n\r\nconst NavItem = props => {\r\n  return (\r\n    <li className={styles.NavItem}>\r\n      <NavLink\r\n        to={props.link}\r\n        exact={props.exact}\r\n        activeClassName={styles.active}\r\n      >\r\n        {props.children}\r\n      </NavLink>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default NavItem;\r\n","import React from 'react';\r\nimport NavItem from './NavItem/NavItem';\r\n\r\nimport styles from './Navigation.module.scss';\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <ul className={styles.Navigation}>\r\n      <NavItem link=\"/\" exact>\r\n        TODO\r\n      </NavItem>\r\n      <NavItem link=\"/done\">Done</NavItem>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\nimport styles from './Button.module.scss';\r\n\r\nconst Button = React.memo(props => {\r\n  console.log('Button');\r\n\r\n  return (\r\n    <button\r\n      className={styles.Button}\r\n      disabled={props.disabled}\r\n      onClick={props.clicked}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n});\r\n\r\nexport default React.memo(Button);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport styles from './Layout.module.scss';\r\n\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst Layout = props => {\r\n  console.log('layout');\r\n  const logOutHandler = () => {\r\n    localStorage.removeItem('idToken');\r\n    props.history.push('/signin');\r\n  };\r\n\r\n  if (!localStorage.getItem('idToken')) {\r\n    props.history.push('/signin');\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className={styles.header}>\r\n        <Navigation />\r\n        <div className={styles.logout}>\r\n          <Button clicked={logOutHandler}>登出</Button>\r\n        </div>\r\n      </header>\r\n      <main>{props.children}</main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(Layout);\r\n","import React from 'react';\r\nimport styles from './Input.module.scss';\r\n\r\nconst Input = props => {\r\n  console.log('Input');\r\n\r\n  const classes = [styles.Input];\r\n  !props.valid && props.touch && classes.push(styles.error);\r\n\r\n  let inputElement = <p>Input Error</p>;\r\n\r\n  switch (props.type) {\r\n    case 'input':\r\n      return (inputElement = (\r\n        <input\r\n          className={classes.join(' ')}\r\n          type={props.inputType}\r\n          name={props.name}\r\n          {...props.config}\r\n          value={props.value}\r\n          onChange={props.changed}\r\n        />\r\n      ));\r\n    case 'select':\r\n      return;\r\n    case 'textarea':\r\n      return;\r\n    default:\r\n      return inputElement;\r\n  }\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState } from 'react';\r\nimport styles from './Todo.module.scss';\r\nimport { todoInstence as axios } from '../../axios-instence';\r\n\r\n// import withErrorHandler from '../../hoc/withErrorHandler';\r\nimport Layout from '../../components/Layout/Layout';\r\nimport Input from '../../UI/Input/Input';\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst Todo = props => {\r\n  console.log('Todo');\r\n  const [addTodoItem, setAddTodoItem] = useState('');\r\n\r\n  const changeAddItemHandler = e => {\r\n    setAddTodoItem(e.target.value);\r\n  };\r\n\r\n  const addTodoItemHandler = () => {\r\n    axios\r\n      .post('/todo/wowchiou', {\r\n        item: addTodoItem\r\n      })\r\n      .then(res => {\r\n        console.log(res);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <div className={styles.Todo}>\r\n        <h2 className={styles.title}>新增項目</h2>\r\n        <div className={styles.addBar}>\r\n          <Input\r\n            type=\"input\"\r\n            inputType=\"text\"\r\n            name=\"add-todo\"\r\n            value={addTodoItem}\r\n            changed={changeAddItemHandler}\r\n            config={{ placeholder: '請輸入新增項目' }}\r\n          />\r\n          <Button clicked={addTodoItemHandler}>ADD</Button>\r\n        </div>\r\n        <h2 className={styles.title}>待完成項目</h2>\r\n        <div className={styles.items}>待完成項目</div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Todo;\r\n","import React from 'react';\r\nimport Layout from '../../components/Layout/Layout';\r\n\r\nconst Done = () => {\r\n  console.log('Done');\r\n  return (\r\n    <div>\r\n      <Layout>Done</Layout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Done;\r\n","export const updateOBJ = (currentState, updatedState) => {\r\n  return {\r\n    ...currentState,\r\n    ...updatedState\r\n  };\r\n};\r\n\r\nexport const checkValidity = (value, rules) => {\r\n  let isValid = true;\r\n\r\n  if (!rules) return true;\r\n\r\n  if (rules.required) {\r\n    isValid = value.trim() !== '' && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  if (rules.minLength) {\r\n    isValid = value.length >= rules.minLength && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  if (rules.isEmail) {\r\n    const emailReg = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n    isValid = emailReg.test(value) && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n","export const httpReducer = (currentState, action) => {\r\n  switch (action.type) {\r\n    case 'SEND':\r\n      return { loading: true, error: null };\r\n    case 'RESPONSE':\r\n      return { ...currentState, loading: false };\r\n    case 'ERROR':\r\n      return { loading: false, error: action.errorMessage };\r\n    case 'CLEAR':\r\n      return { loading: false, error: null };\r\n    default:\r\n      throw new Error('Somthing went wrong!');\r\n  }\r\n};\r\n","import React from 'react';\r\nimport styles from './withErrorHandler.module.scss';\r\n\r\nimport useHttpErrorHandler from '../../hooks/http-error-handler';\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst withErrorHandler = (WrappedComponents, axios) => {\r\n  return props => {\r\n    const [error, clearError] = useHttpErrorHandler(axios);\r\n\r\n    let classes = [styles.error];\r\n    error ? classes.push(styles.show) : classes.push(styles.hide);\r\n\r\n    let errorMessage = '';\r\n    if (error && error.response) {\r\n      errorMessage = error.response.data.error.message;\r\n    } else if (error && !error.response) {\r\n      errorMessage = '請確認網路連線';\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className={classes.join(' ')}>\r\n          <p>{errorMessage}</p>\r\n          <Button clicked={clearError}>確認</Button>\r\n        </div>\r\n        <WrappedComponents {...props} />\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withErrorHandler;\r\n","import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport default httpInstance => {\r\n  const [error, setError] = useState(null);\r\n\r\n  const reqInterceptor = httpInstance.interceptors.request.use(req => {\r\n    setError(null);\r\n    return req;\r\n  });\r\n\r\n  const resInterceptor = httpInstance.interceptors.response.use(\r\n    res => res,\r\n    err => {\r\n      setError(err);\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      httpInstance.interceptors.request.eject(reqInterceptor);\r\n      httpInstance.interceptors.response.eject(resInterceptor);\r\n    };\r\n  }, [\r\n    httpInstance.interceptors.request,\r\n    httpInstance.interceptors.response,\r\n    reqInterceptor,\r\n    resInterceptor\r\n  ]);\r\n\r\n  const errorConfirmedHandler = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  return [error, errorConfirmedHandler];\r\n};\r\n","import React from 'react';\r\nimport styles from './Card.module.scss';\r\n\r\nconst Card = props => <div className={styles.Card}>{props.children}</div>;\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nimport styles from './Backdrop.module.scss';\r\n\r\nconst Backdrop = props => {\r\n  const classes = [styles.Backdrop];\r\n  props.show ? classes.push(styles.show) : classes.push(styles.hide);\r\n\r\n  return <div className={classes.join(' ')} onClick={props.clicked}></div>;\r\n};\r\n\r\nexport default Backdrop;\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nimport styles from './Modal.module.scss';\r\n\r\nconst Modal = props => {\r\n  const globalModal = window.document.getElementById('global-modal');\r\n\r\n  const modal = (\r\n    <>\r\n      {console.log(props.show)}\r\n      <Backdrop show={props.show} clicked={props.clicked} />\r\n      <div className={styles.Modal}>\r\n        <div className={styles.close} onClick={props.clicked}>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        {props.children}\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return createPortal(modal, globalModal);\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport styles from './Loading.module.scss';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={styles.Loading}>\r\n      <div className={styles.loading}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport Input from '../../UI/Input/Input';\r\n\r\nconst SignForm = props => {\r\n  return Object.keys(props.data).map((itm, idx) => {\r\n    return (\r\n      <Input\r\n        key={itm + idx}\r\n        type={props.data[itm].type}\r\n        inputType={props.data[itm].inputType}\r\n        name={itm}\r\n        config={props.data[itm].config}\r\n        changed={e => props.changed(e, itm)}\r\n        value={props.data[itm].value}\r\n        valid={props.data[itm].valid}\r\n        touch={props.data[itm].touch}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\nexport default SignForm;\r\n","import React, { useState, useReducer, useCallback } from 'react';\r\nimport styles from './Signup.module.scss';\r\n\r\nimport axios from 'axios';\r\nimport { signupInstance } from '../../axios-instence';\r\n\r\nimport { updateOBJ, checkValidity } from '../../shared/utility';\r\nimport { httpReducer } from '../../shared/reducer';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\n\r\nimport Button from '../../UI/Button/Button';\r\nimport Card from '../../UI/Card/Card';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport Loading from '../../UI/Loading/Loading';\r\n\r\nimport SignForm from '../../components/SignForm/SignForm';\r\n\r\nconst Signup = props => {\r\n  console.log('SIGNUP');\r\n\r\n  const [httpStatus, dispatchHttpStatus] = useReducer(httpReducer, {\r\n    loading: false,\r\n    error: null\r\n  });\r\n\r\n  const [signupFormData, setSignupFormData] = useState({\r\n    email: {\r\n      type: 'input',\r\n      inputType: 'email',\r\n      config: {\r\n        placeholder: 'email address'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        isEmail: true\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    password: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    comfirnPsw: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'comfirn password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    }\r\n  });\r\n\r\n  const changeHandler = useCallback((ev, type) => {\r\n    const val = ev.currentTarget.value;\r\n    setSignupFormData(prevState => {\r\n      const updatedData = updateOBJ(prevState[type], {\r\n        value: val,\r\n        valid: checkValidity(val, prevState[type].validRules),\r\n        touch: true\r\n      });\r\n      return updateOBJ(prevState, { [type]: updatedData });\r\n    });\r\n  }, []);\r\n\r\n  const signupHandler = useCallback(\r\n    async formData => {\r\n      dispatchHttpStatus({ type: 'SEND' });\r\n\r\n      if (!checkIsFormOk(formData)) {\r\n        dispatchHttpStatus({\r\n          type: 'ERROR',\r\n          errorMessage: '填入資料不正確,請檢查後再發送'\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!passwordHasSameValue(formData)) {\r\n        dispatchHttpStatus({\r\n          type: 'ERROR',\r\n          errorMessage: '密碼不一致,請重新輸入後再發送'\r\n        });\r\n        return;\r\n      }\r\n\r\n      const data = getFormValue(formData);\r\n\r\n      const signupResponse = await signupInstance(data);\r\n\r\n      if (signupResponse) {\r\n        if (signupOk(signupResponse)) {\r\n          props.history.push('/signin');\r\n        } else {\r\n          dispatchHttpStatus({ type: 'ERROR', errorMessage: '寫入資料失敗' });\r\n          console.log(signupResponse);\r\n        }\r\n      }\r\n\r\n      dispatchHttpStatus({ type: 'RESPONSE' });\r\n\r\n      function getFormValue(formList) {\r\n        const result = Object.keys(formList)\r\n          .map(itm => {\r\n            if (itm === 'email' || itm === 'password') {\r\n              return { [itm]: formList[itm].value };\r\n            } else {\r\n              return {};\r\n            }\r\n          })\r\n          .reduce((obj, el) => {\r\n            return { ...obj, ...el };\r\n          }, {});\r\n\r\n        return result;\r\n      }\r\n\r\n      function signupOk(res) {\r\n        return res.status === '200' || res.status === 200;\r\n      }\r\n\r\n      function checkIsFormOk(data) {\r\n        let result = false;\r\n        const validData = Object.keys(data).filter(\r\n          itm => data[itm].valid === false\r\n        );\r\n        if (validData.length === 0) {\r\n          result = true;\r\n        }\r\n\r\n        return result;\r\n      }\r\n\r\n      function passwordHasSameValue(data) {\r\n        return data.password.value === data.comfirnPsw.value;\r\n      }\r\n    },\r\n    [props.history]\r\n  );\r\n\r\n  const clearModal = useCallback(() => {\r\n    dispatchHttpStatus({ type: 'CLEAR' });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.Signup}>\r\n      {httpStatus.error && (\r\n        <Modal show clicked={clearModal}>\r\n          {httpStatus.error}\r\n        </Modal>\r\n      )}\r\n\r\n      <div className={styles.wrap}>\r\n        <Card className={styles.card}>\r\n          <div className={styles.title}>\r\n            <span>註冊</span>\r\n            <div className={styles.loading}>\r\n              {httpStatus.loading && <Loading />}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <SignForm data={signupFormData} changed={changeHandler} />\r\n          </div>\r\n          <div className={styles.btns}>\r\n            <Button clicked={() => signupHandler(signupFormData)}>送出</Button>\r\n            <Button clicked={() => props.history.push('/signin')}>登入</Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withErrorHandler(Signup, axios);\r\n","import React, { useState, useReducer, useCallback } from 'react';\r\nimport styles from './Signin.module.scss';\r\n\r\nimport axios from 'axios';\r\nimport { signinInstance } from '../../axios-instence';\r\n\r\nimport { updateOBJ, checkValidity } from '../../shared/utility';\r\nimport { httpReducer } from '../../shared/reducer';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\n\r\nimport Button from '../../UI/Button/Button';\r\nimport Card from '../../UI/Card/Card';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport Loading from '../../UI/Loading/Loading';\r\n\r\nimport SignForm from '../../components/SignForm/SignForm';\r\n\r\nconst Signin = props => {\r\n  console.log('SIGNIN');\r\n\r\n  const [httpStatus, dispatchHttpStatus] = useReducer(httpReducer, {\r\n    loading: false,\r\n    error: null\r\n  });\r\n\r\n  const [signinFormData, setSigninFormData] = useState({\r\n    email: {\r\n      type: 'input',\r\n      inputType: 'email',\r\n      config: {\r\n        placeholder: 'email address'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        isEmail: true\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    password: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    }\r\n  });\r\n\r\n  const changeHandler = (ev, type) => {\r\n    const val = ev.currentTarget.value;\r\n    setSigninFormData(prevState => {\r\n      const updatedData = updateOBJ(prevState[type], {\r\n        value: val,\r\n        valid: checkValidity(val, prevState[type].validRules),\r\n        touch: true\r\n      });\r\n      return updateOBJ(prevState, { [type]: updatedData });\r\n    });\r\n  };\r\n\r\n  const signinHandler = async formData => {\r\n    dispatchHttpStatus({ type: 'SEND' });\r\n\r\n    if (!checkIsFormOk(formData)) {\r\n      dispatchHttpStatus({\r\n        type: 'ERROR',\r\n        errorMessage: '填入資料不正確,請檢查後再發送'\r\n      });\r\n      return;\r\n    }\r\n\r\n    const data = getFormValue(formData);\r\n    const signinResponse = await signinInstance(data);\r\n\r\n    if (signinResponse) {\r\n      if (signinOk(signinResponse)) {\r\n        login(signinResponse.data.idToken);\r\n      } else {\r\n        dispatchHttpStatus({\r\n          type: 'ERROR',\r\n          errorMessage: '登入失敗'\r\n        });\r\n      }\r\n    }\r\n\r\n    dispatchHttpStatus({ type: 'RESPONSE' });\r\n\r\n    function getFormValue(formList) {\r\n      const result = Object.keys(formList)\r\n        .map(itm => {\r\n          return { [itm]: formList[itm].value };\r\n        })\r\n        .reduce((obj, el) => {\r\n          return { ...obj, ...el };\r\n        }, {});\r\n      return result;\r\n    }\r\n\r\n    function signinOk(res) {\r\n      return res.status === '200' || res.status === 200;\r\n    }\r\n\r\n    function checkIsFormOk(data) {\r\n      let result = false;\r\n      const validData = Object.keys(data).filter(\r\n        itm => data[itm].valid === false\r\n      );\r\n      if (validData.length === 0) {\r\n        result = true;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    function login(token) {\r\n      localStorage.setItem('idToken', token);\r\n      props.history.push('/');\r\n    }\r\n  };\r\n\r\n  const clearModal = useCallback(() => {\r\n    dispatchHttpStatus({ type: 'CLEAR' });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.Signin}>\r\n      {httpStatus.error && (\r\n        <Modal show clicked={clearModal}>\r\n          {httpStatus.error}\r\n        </Modal>\r\n      )}\r\n\r\n      <div className={styles.wrap}>\r\n        <Card className={styles.card}>\r\n          <div className={styles.title}>\r\n            <span>登入</span>\r\n            <div className={styles.loading}>\r\n              {httpStatus.loading && <Loading />}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <SignForm data={signinFormData} changed={changeHandler} />\r\n          </div>\r\n          <div className={styles.btns}>\r\n            <Button clicked={() => signinHandler(signinFormData)}>送出</Button>\r\n            <Button clicked={() => props.history.push('/signup')}>註冊</Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withErrorHandler(Signin, axios);\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Todo from './containers/Todo/Todo';\r\nimport Done from './containers/Done/Done';\r\nimport Signup from './containers/Signup/Signup';\r\nimport Signin from './containers/Signin/Signin';\r\n\r\nconst App = () => {\r\n  console.log('APP');\r\n\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Todo} />\r\n        <Route path=\"/done\" component={Done} />\r\n        <Route path=\"/signup\" component={Signup} />\r\n        <Route path=\"/signin\" component={Signin} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n\r\n      <div id=\"global-modal\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\nconst app = (\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n"],"sourceRoot":""}