{"version":3,"sources":["containers/Signup/Signup.module.scss","containers/Signin/Signin.module.scss","containers/Todo/Todo.module.scss","hoc/withErrorHandler/withErrorHandler.module.scss","UI/Backdrop/Backdrop.module.scss","components/Layout/Layout.module.scss","components/Navigation/NavItem/NavItem.module.scss","UI/Input/Input.module.scss","components/TodoList/TodoList.module.scss","components/TodoList/TodoItem/TodoItem.module.scss","UI/Loading/Loading.module.scss","UI/Modal/Modal.module.scss","UI/Button/Button.module.scss","components/Navigation/Navigation.module.scss","UI/Card/Card.module.scss","axios-instence.js","UI/Button/Button.js","hoc/withErrorHandler/withErrorHandler.js","hooks/http-error-handler.js","components/Navigation/NavItem/NavItem.js","components/Navigation/Navigation.js","components/Layout/Layout.js","UI/Input/Input.js","components/TodoList/TodoItem/TodoItem.js","components/TodoList/TodoList.js","UI/Loading/Loading.js","containers/Todo/Todo.js","containers/Done/Done.js","shared/utility.js","shared/reducer.js","UI/Card/Card.js","UI/Backdrop/Backdrop.js","UI/Modal/Modal.js","components/SignForm/SignForm.js","containers/Signup/Signup.js","containers/Signin/Signin.js","App.js","index.js"],"names":["module","exports","Signup","wrap","title","loading","btns","popup","Signin","Todo","addBar","error","show","hide","Backdrop","header","logout","NavItem","Input","TodoList","nothing","TodoItem","lds-ring","Modal","fadeInDown","close","Button","Navigation","Card","apiKey","todoInstence","axios","create","baseURL","signupInstance","data","response","regenerator_default","a","async","_context","prev","next","awrap","post","sent","abrupt","stop","signinInstance","_context2","React","memo","props","console","log","react_default","createElement","className","styles","disabled","onClick","clicked","children","withErrorHandler","WrappedComponents","_useHttpErrorHandler","httpInstance","_useState","useState","_useState2","Object","slicedToArray","setError","reqInterceptor","interceptors","request","use","req","resInterceptor","res","err","useEffect","eject","useCallback","useHttpErrorHandler","_useHttpErrorHandler2","clearError","classes","push","errorMessage","message","Fragment","join","Button_Button","react_router_dom","to","link","exact","activeClassName","active","Navigation_NavItem_NavItem","withRouter","localStorage","getItem","history","components_Navigation_Navigation","removeItem","valid","touch","inputElement","type","assign","inputType","name","config","value","onChange","changed","item","onFinished","itemId","onDeleted","_list","list","keys","map","itm","isDone","TodoList_TodoItem_TodoItem","key","Loading","addTodoItem","setAddTodoItem","_useState3","_useState4","todoList","setTodoList","_useState5","_useState6","setLoading","get","then","components_Layout_Layout","UI_Input_Input","e","target","placeholder","todoItem","prevState","objectSpread2","defineProperty","UI_Loading_Loading","components_TodoList_TodoList","id","_todoList","updateValue","reduce","obj","el","put","concat","delete","updateList","Done","updateOBJ","currentState","updatedState","checkValidity","rules","isValid","required","trim","minLength","length","isEmail","test","httpReducer","action","Error","globalModal","window","document","getElementById","modal","UI_Backdrop_Backdrop","createPortal","SignForm","idx","_useReducer","useReducer","_useReducer2","httpStatus","dispatchHttpStatus","email","validRules","password","comfirnPsw","signupFormData","setSignupFormData","changeHandler","ev","val","currentTarget","updatedData","signupHandler","formData","signupResponse","getFormValue","signupOk","checkIsFormOk","passwordHasSameValue","result","filter","status","formList","clearModal","UI_Modal_Modal","UI_Card_Card","card","components_SignForm_SignForm","signinFormData","setSigninFormData","signinResponse","signinOk","login","token","setItem","idToken","signinHandler","App","react_router","path","component","app","src_App","ReactDOM","render"],"mappings":"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","file":"static/js/main.509c5059.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Signup\":\"Signup_Signup__HxM2G\",\"wrap\":\"Signup_wrap__1M42O\",\"title\":\"Signup_title__35SL0\",\"loading\":\"Signup_loading__39rvN\",\"btns\":\"Signup_btns__2zGiS\",\"popup\":\"Signup_popup__3D6tu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Signin\":\"Signin_Signin__29PCt\",\"wrap\":\"Signin_wrap__3ftIN\",\"title\":\"Signin_title__2oYXY\",\"loading\":\"Signin_loading__1BwJT\",\"btns\":\"Signin_btns__apeSs\",\"popup\":\"Signin_popup__LnR_F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Todo\":\"Todo_Todo__hx4er\",\"addBar\":\"Todo_addBar__2eopu\",\"loading\":\"Todo_loading__2SNz9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"withErrorHandler_error__17OP8\",\"show\":\"withErrorHandler_show__2-T-b\",\"hide\":\"withErrorHandler_hide__uIUIb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__haGuA\",\"hide\":\"Backdrop_hide__YutH5\",\"show\":\"Backdrop_show__3d7qs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Layout_header__2xoJq\",\"logout\":\"Layout_logout__3vwyF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavItem\":\"NavItem_NavItem__aPQlA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input_Input__mWMod\",\"error\":\"Input_error__57kT7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TodoList\":\"TodoList_TodoList__W7Ezu\",\"nothing\":\"TodoList_nothing__2Hm--\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TodoItem\":\"TodoItem_TodoItem__1TRFF\",\"btns\":\"TodoItem_btns__1zLCr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__utX7h\",\"lds-ring\":\"Loading_lds-ring__1K9EY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__2-3xg\",\"fadeInDown\":\"Modal_fadeInDown__3qMva\",\"close\":\"Modal_close__3Bb7f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Is6j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1E364\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"Card_Card__ReLmv\"};","import axios from 'axios';\r\n\r\nconst apiKey = 'AIzaSyAzWGnKUYY8e6g9oASL90g7tj4TjoVCRGg';\r\n\r\nexport const todoInstence = axios.create({\r\n  baseURL: 'https://react-my-test-fb5ea.firebaseio.com/'\r\n});\r\n\r\nexport const signupInstance = async data => {\r\n  const response = await axios.post(\r\n    'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=' + apiKey,\r\n    data\r\n  );\r\n  return response;\r\n};\r\n\r\nexport const signinInstance = async data => {\r\n  const response = await axios.post(\r\n    'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=' +\r\n      apiKey,\r\n    data\r\n  );\r\n  return response;\r\n};\r\n","import React from 'react';\r\nimport styles from './Button.module.scss';\r\n\r\nconst Button = React.memo(props => {\r\n  console.log('Button');\r\n\r\n  return (\r\n    <button\r\n      className={styles.Button}\r\n      disabled={props.disabled}\r\n      onClick={props.clicked}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n});\r\n\r\nexport default React.memo(Button);\r\n","import React from 'react';\r\nimport styles from './withErrorHandler.module.scss';\r\n\r\nimport useHttpErrorHandler from '../../hooks/http-error-handler';\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst withErrorHandler = (WrappedComponents, axios) => {\r\n  return props => {\r\n    const [error, clearError] = useHttpErrorHandler(axios);\r\n\r\n    let classes = [styles.error];\r\n    error ? classes.push(styles.show) : classes.push(styles.hide);\r\n\r\n    let errorMessage = '';\r\n    if (error && error.response) {\r\n      errorMessage = error.response.data.error.message;\r\n    } else if (error && !error.response) {\r\n      errorMessage = '請確認網路連線';\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <div className={classes.join(' ')}>\r\n          <p>{errorMessage}</p>\r\n          <Button clicked={clearError}>確認</Button>\r\n        </div>\r\n        <WrappedComponents {...props} />\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withErrorHandler;\r\n","import { useState, useEffect, useCallback } from 'react';\r\n\r\nexport default httpInstance => {\r\n  const [error, setError] = useState(null);\r\n\r\n  const reqInterceptor = httpInstance.interceptors.request.use(req => {\r\n    setError(null);\r\n    return req;\r\n  });\r\n\r\n  const resInterceptor = httpInstance.interceptors.response.use(\r\n    res => res,\r\n    err => {\r\n      setError(err);\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      httpInstance.interceptors.request.eject(reqInterceptor);\r\n      httpInstance.interceptors.response.eject(resInterceptor);\r\n    };\r\n  }, [\r\n    httpInstance.interceptors.request,\r\n    httpInstance.interceptors.response,\r\n    reqInterceptor,\r\n    resInterceptor\r\n  ]);\r\n\r\n  const errorConfirmedHandler = useCallback(() => {\r\n    setError(null);\r\n  }, []);\r\n\r\n  return [error, errorConfirmedHandler];\r\n};\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport styles from './NavItem.module.scss';\r\n\r\nconst NavItem = props => {\r\n  return (\r\n    <li className={styles.NavItem}>\r\n      <NavLink\r\n        to={props.link}\r\n        exact={props.exact}\r\n        activeClassName={styles.active}\r\n      >\r\n        {props.children}\r\n      </NavLink>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default NavItem;\r\n","import React from 'react';\r\nimport NavItem from './NavItem/NavItem';\r\n\r\nimport styles from './Navigation.module.scss';\r\n\r\nconst Navigation = () => {\r\n  return (\r\n    <ul className={styles.Navigation}>\r\n      <NavItem link=\"/\" exact>\r\n        TODO\r\n      </NavItem>\r\n      <NavItem link=\"/done\">Done</NavItem>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport styles from './Layout.module.scss';\r\n\r\nimport Navigation from '../Navigation/Navigation';\r\nimport Button from '../../UI/Button/Button';\r\n\r\nconst Layout = props => {\r\n  console.log('layout');\r\n  const logOutHandler = () => {\r\n    localStorage.removeItem('idToken');\r\n    props.history.push('/signin');\r\n  };\r\n\r\n  if (!localStorage.getItem('idToken')) {\r\n    props.history.push('/signin');\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className={styles.header}>\r\n        <Navigation />\r\n        <div className={styles.logout}>\r\n          <Button clicked={logOutHandler}>登出</Button>\r\n        </div>\r\n      </header>\r\n      <main>{props.children}</main>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(Layout);\r\n","import React from 'react';\r\nimport styles from './Input.module.scss';\r\n\r\nconst Input = props => {\r\n  console.log('Input');\r\n\r\n  const classes = [styles.Input];\r\n  !props.valid && props.touch && classes.push(styles.error);\r\n\r\n  let inputElement = <p>Input Error</p>;\r\n\r\n  switch (props.type) {\r\n    case 'input':\r\n      return (inputElement = (\r\n        <input\r\n          className={classes.join(' ')}\r\n          type={props.inputType}\r\n          name={props.name}\r\n          {...props.config}\r\n          value={props.value}\r\n          onChange={props.changed}\r\n        />\r\n      ));\r\n    case 'select':\r\n      return;\r\n    case 'textarea':\r\n      return;\r\n    default:\r\n      return inputElement;\r\n  }\r\n};\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport styles from './TodoItem.module.scss';\r\n\r\nimport Button from '../../../UI/Button/Button';\r\n\r\nconst TodoItem = props => {\r\n  return (\r\n    <li className={styles.TodoItem}>\r\n      <p>{props.item}</p>\r\n      <div className={styles.btns}>\r\n        <Button\r\n          clicked={() => {\r\n            props.onFinished(props.itemId);\r\n          }}\r\n        >\r\n          完成\r\n        </Button>\r\n        <Button\r\n          clicked={() => {\r\n            props.onDeleted(props.itemId);\r\n          }}\r\n        >\r\n          刪除\r\n        </Button>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import React from 'react';\r\nimport styles from './TodoList.module.scss';\r\n\r\nimport TodoItem from './TodoItem/TodoItem';\r\n\r\nconst TodoList = props => {\r\n  let _list = <li className={styles.nothing}>目前無代辦事項</li>;\r\n\r\n  if (props.list) {\r\n    _list = Object.keys(props.list).map(itm => {\r\n      if (!props.list[itm].isDone) {\r\n        return (\r\n          <TodoItem\r\n            itemId={itm}\r\n            key={itm}\r\n            item={props.list[itm].item}\r\n            onFinished={props.onFinished}\r\n            onDeleted={props.onDeleted}\r\n          />\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  return <ul className={styles.TodoList}>{_list}</ul>;\r\n};\r\n\r\nexport default TodoList;\r\n","import React from 'react';\r\nimport styles from './Loading.module.scss';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className={styles.Loading}>\r\n      <div className={styles.loading}>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport styles from './Todo.module.scss';\r\nimport { todoInstence as axios } from '../../axios-instence';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport Layout from '../../components/Layout/Layout';\r\nimport Input from '../../UI/Input/Input';\r\nimport Button from '../../UI/Button/Button';\r\nimport TodoList from '../../components/TodoList/TodoList';\r\nimport Loading from '../../UI/Loading/Loading';\r\n\r\nconst Todo = props => {\r\n  console.log('Todo');\r\n  const [addTodoItem, setAddTodoItem] = useState('');\r\n  const [todoList, setTodoList] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const changeAddItemHandler = e => {\r\n    setAddTodoItem(e.target.value);\r\n  };\r\n\r\n  const addTodoItemHandler = () => {\r\n    setLoading(true);\r\n    const todoItem = {\r\n      item: addTodoItem,\r\n      isDone: false\r\n    };\r\n\r\n    axios.post('/todo/wowchiou.json', todoItem).then(res => {\r\n      setTodoList(prevState => {\r\n        return {\r\n          ...prevState,\r\n          [res.data.name]: {\r\n            ...todoItem\r\n          }\r\n        };\r\n      });\r\n\r\n      setAddTodoItem('');\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const onFinished = id => {\r\n    setLoading(true);\r\n    const _todoList = todoList;\r\n    const updateValue = Object.keys(_todoList)\r\n      .map(itm => {\r\n        if (itm === id) return _todoList[itm];\r\n      })\r\n      .reduce((obj, el) => {\r\n        return {\r\n          ...obj,\r\n          ...el,\r\n          isDone: true\r\n        };\r\n      }, {});\r\n\r\n    axios.put(`/todo/wowchiou/${id}.json`, updateValue).then(res => {\r\n      setTodoList(prevState => {\r\n        return {\r\n          ...prevState,\r\n          [id]: {\r\n            ...updateValue\r\n          }\r\n        };\r\n      });\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const onDeleted = id => {\r\n    setLoading(true);\r\n    axios.delete(`/todo/wowchiou/${id}.json`).then(res => {\r\n      const updateList = Object.keys(todoList)\r\n        .map(itm => {\r\n          if (itm !== id) return { [itm]: { ...todoList[itm] } };\r\n        })\r\n        .reduce((obj, el) => {\r\n          return {\r\n            ...obj,\r\n            ...el\r\n          };\r\n        }, {});\r\n      setTodoList({ ...updateList });\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    axios.get('/todo/wowchiou.json').then(res => {\r\n      setTodoList(res.data);\r\n      setLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Layout>\r\n      <div className={styles.Todo}>\r\n        <h2 className={styles.title}>新增項目</h2>\r\n        <div className={styles.addBar}>\r\n          <Input\r\n            type=\"input\"\r\n            inputType=\"text\"\r\n            name=\"add-todo\"\r\n            value={addTodoItem}\r\n            changed={changeAddItemHandler}\r\n            config={{ placeholder: '請輸入新增項目' }}\r\n          />\r\n          <Button clicked={addTodoItemHandler}>ADD</Button>\r\n        </div>\r\n\r\n        <h2 className={styles.title}>\r\n          待完成項目\r\n          <div className={styles.loading}>{loading && <Loading />}</div>\r\n        </h2>\r\n        <TodoList\r\n          list={todoList}\r\n          onFinished={onFinished}\r\n          onDeleted={onDeleted}\r\n        />\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default withErrorHandler(Todo, axios);\r\n","import React from 'react';\r\nimport Layout from '../../components/Layout/Layout';\r\n\r\nconst Done = () => {\r\n  console.log('Done');\r\n  return <Layout>Done</Layout>;\r\n};\r\n\r\nexport default Done;\r\n","export const updateOBJ = (currentState, updatedState) => {\r\n  return {\r\n    ...currentState,\r\n    ...updatedState\r\n  };\r\n};\r\n\r\nexport const checkValidity = (value, rules) => {\r\n  let isValid = true;\r\n\r\n  if (!rules) return true;\r\n\r\n  if (rules.required) {\r\n    isValid = value.trim() !== '' && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  if (rules.minLength) {\r\n    isValid = value.length >= rules.minLength && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  if (rules.isEmail) {\r\n    const emailReg = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n    isValid = emailReg.test(value) && isValid;\r\n    if (!isValid) return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n","export const httpReducer = (currentState, action) => {\r\n  switch (action.type) {\r\n    case 'SEND':\r\n      return { loading: true, error: null };\r\n    case 'RESPONSE':\r\n      return { ...currentState, loading: false };\r\n    case 'ERROR':\r\n      return { loading: false, error: action.errorMessage };\r\n    case 'CLEAR':\r\n      return { loading: false, error: null };\r\n    default:\r\n      throw new Error('Somthing went wrong!');\r\n  }\r\n};\r\n","import React from 'react';\r\nimport styles from './Card.module.scss';\r\n\r\nconst Card = props => <div className={styles.Card}>{props.children}</div>;\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nimport styles from './Backdrop.module.scss';\r\n\r\nconst Backdrop = props => {\r\n  const classes = [styles.Backdrop];\r\n  props.show ? classes.push(styles.show) : classes.push(styles.hide);\r\n\r\n  return <div className={classes.join(' ')} onClick={props.clicked}></div>;\r\n};\r\n\r\nexport default Backdrop;\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport Backdrop from '../Backdrop/Backdrop';\r\n\r\nimport styles from './Modal.module.scss';\r\n\r\nconst Modal = props => {\r\n  const globalModal = window.document.getElementById('global-modal');\r\n\r\n  const modal = (\r\n    <>\r\n      {console.log(props.show)}\r\n      <Backdrop show={props.show} clicked={props.clicked} />\r\n      <div className={styles.Modal}>\r\n        <div className={styles.close} onClick={props.clicked}>\r\n          <span></span>\r\n          <span></span>\r\n        </div>\r\n        {props.children}\r\n      </div>\r\n    </>\r\n  );\r\n\r\n  return createPortal(modal, globalModal);\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport Input from '../../UI/Input/Input';\r\n\r\nconst SignForm = props => {\r\n  return Object.keys(props.data).map((itm, idx) => {\r\n    return (\r\n      <Input\r\n        key={itm + idx}\r\n        type={props.data[itm].type}\r\n        inputType={props.data[itm].inputType}\r\n        name={itm}\r\n        config={props.data[itm].config}\r\n        changed={e => props.changed(e, itm)}\r\n        value={props.data[itm].value}\r\n        valid={props.data[itm].valid}\r\n        touch={props.data[itm].touch}\r\n      />\r\n    );\r\n  });\r\n};\r\n\r\nexport default SignForm;\r\n","import React, { useState, useReducer, useCallback } from 'react';\r\nimport styles from './Signup.module.scss';\r\n\r\nimport axios from 'axios';\r\nimport { signupInstance } from '../../axios-instence';\r\n\r\nimport { updateOBJ, checkValidity } from '../../shared/utility';\r\nimport { httpReducer } from '../../shared/reducer';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\n\r\nimport Button from '../../UI/Button/Button';\r\nimport Card from '../../UI/Card/Card';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport Loading from '../../UI/Loading/Loading';\r\n\r\nimport SignForm from '../../components/SignForm/SignForm';\r\n\r\nconst Signup = props => {\r\n  console.log('SIGNUP');\r\n\r\n  const [httpStatus, dispatchHttpStatus] = useReducer(httpReducer, {\r\n    loading: false,\r\n    error: null\r\n  });\r\n\r\n  const [signupFormData, setSignupFormData] = useState({\r\n    email: {\r\n      type: 'input',\r\n      inputType: 'email',\r\n      config: {\r\n        placeholder: 'email address'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        isEmail: true\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    password: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    comfirnPsw: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'comfirn password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    }\r\n  });\r\n\r\n  const changeHandler = useCallback((ev, type) => {\r\n    const val = ev.currentTarget.value;\r\n    setSignupFormData(prevState => {\r\n      const updatedData = updateOBJ(prevState[type], {\r\n        value: val,\r\n        valid: checkValidity(val, prevState[type].validRules),\r\n        touch: true\r\n      });\r\n      return updateOBJ(prevState, { [type]: updatedData });\r\n    });\r\n  }, []);\r\n\r\n  const signupHandler = useCallback(\r\n    async formData => {\r\n      dispatchHttpStatus({ type: 'SEND' });\r\n\r\n      if (!checkIsFormOk(formData)) {\r\n        dispatchHttpStatus({\r\n          type: 'ERROR',\r\n          errorMessage: '填入資料不正確,請檢查後再發送'\r\n        });\r\n        return;\r\n      }\r\n\r\n      if (!passwordHasSameValue(formData)) {\r\n        dispatchHttpStatus({\r\n          type: 'ERROR',\r\n          errorMessage: '密碼不一致,請重新輸入後再發送'\r\n        });\r\n        return;\r\n      }\r\n\r\n      const data = getFormValue(formData);\r\n\r\n      const signupResponse = await signupInstance(data);\r\n\r\n      if (signupResponse) {\r\n        if (signupOk(signupResponse)) {\r\n          props.history.push('/signin');\r\n        } else {\r\n          dispatchHttpStatus({ type: 'ERROR', errorMessage: '寫入資料失敗' });\r\n          console.log(signupResponse);\r\n        }\r\n      }\r\n\r\n      dispatchHttpStatus({ type: 'RESPONSE' });\r\n\r\n      function getFormValue(formList) {\r\n        const result = Object.keys(formList)\r\n          .map(itm => {\r\n            if (itm === 'email' || itm === 'password') {\r\n              return { [itm]: formList[itm].value };\r\n            } else {\r\n              return {};\r\n            }\r\n          })\r\n          .reduce((obj, el) => {\r\n            return { ...obj, ...el };\r\n          }, {});\r\n\r\n        return result;\r\n      }\r\n\r\n      function signupOk(res) {\r\n        return res.status === '200' || res.status === 200;\r\n      }\r\n\r\n      function checkIsFormOk(data) {\r\n        let result = false;\r\n        const validData = Object.keys(data).filter(\r\n          itm => data[itm].valid === false\r\n        );\r\n        if (validData.length === 0) {\r\n          result = true;\r\n        }\r\n\r\n        return result;\r\n      }\r\n\r\n      function passwordHasSameValue(data) {\r\n        return data.password.value === data.comfirnPsw.value;\r\n      }\r\n    },\r\n    [props.history]\r\n  );\r\n\r\n  const clearModal = useCallback(() => {\r\n    dispatchHttpStatus({ type: 'CLEAR' });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.Signup}>\r\n      {httpStatus.error && (\r\n        <Modal show clicked={clearModal}>\r\n          {httpStatus.error}\r\n        </Modal>\r\n      )}\r\n\r\n      <div className={styles.wrap}>\r\n        <Card className={styles.card}>\r\n          <div className={styles.title}>\r\n            <span>註冊</span>\r\n            <div className={styles.loading}>\r\n              {httpStatus.loading && <Loading />}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <SignForm data={signupFormData} changed={changeHandler} />\r\n          </div>\r\n          <div className={styles.btns}>\r\n            <Button clicked={() => signupHandler(signupFormData)}>送出</Button>\r\n            <Button clicked={() => props.history.push('/signin')}>登入</Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withErrorHandler(Signup, axios);\r\n","import React, { useState, useReducer, useCallback } from 'react';\r\nimport styles from './Signin.module.scss';\r\n\r\nimport axios from 'axios';\r\nimport { signinInstance } from '../../axios-instence';\r\n\r\nimport { updateOBJ, checkValidity } from '../../shared/utility';\r\nimport { httpReducer } from '../../shared/reducer';\r\n\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\n\r\nimport Button from '../../UI/Button/Button';\r\nimport Card from '../../UI/Card/Card';\r\nimport Modal from '../../UI/Modal/Modal';\r\nimport Loading from '../../UI/Loading/Loading';\r\n\r\nimport SignForm from '../../components/SignForm/SignForm';\r\n\r\nconst Signin = props => {\r\n  console.log('SIGNIN');\r\n\r\n  const [httpStatus, dispatchHttpStatus] = useReducer(httpReducer, {\r\n    loading: false,\r\n    error: null\r\n  });\r\n\r\n  const [signinFormData, setSigninFormData] = useState({\r\n    email: {\r\n      type: 'input',\r\n      inputType: 'email',\r\n      config: {\r\n        placeholder: 'email address'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        isEmail: true\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    },\r\n    password: {\r\n      type: 'input',\r\n      inputType: 'password',\r\n      config: {\r\n        placeholder: 'password'\r\n      },\r\n      value: '',\r\n      validRules: {\r\n        required: true,\r\n        minLength: 6\r\n      },\r\n      valid: false,\r\n      touch: false\r\n    }\r\n  });\r\n\r\n  const changeHandler = (ev, type) => {\r\n    const val = ev.currentTarget.value;\r\n    setSigninFormData(prevState => {\r\n      const updatedData = updateOBJ(prevState[type], {\r\n        value: val,\r\n        valid: checkValidity(val, prevState[type].validRules),\r\n        touch: true\r\n      });\r\n      return updateOBJ(prevState, { [type]: updatedData });\r\n    });\r\n  };\r\n\r\n  const signinHandler = async formData => {\r\n    dispatchHttpStatus({ type: 'SEND' });\r\n\r\n    if (!checkIsFormOk(formData)) {\r\n      dispatchHttpStatus({\r\n        type: 'ERROR',\r\n        errorMessage: '填入資料不正確,請檢查後再發送'\r\n      });\r\n      return;\r\n    }\r\n\r\n    const data = getFormValue(formData);\r\n    const signinResponse = await signinInstance(data);\r\n\r\n    if (signinResponse) {\r\n      if (signinOk(signinResponse)) {\r\n        login(signinResponse.data.idToken);\r\n      } else {\r\n        dispatchHttpStatus({\r\n          type: 'ERROR',\r\n          errorMessage: '登入失敗'\r\n        });\r\n      }\r\n    }\r\n\r\n    dispatchHttpStatus({ type: 'RESPONSE' });\r\n\r\n    function getFormValue(formList) {\r\n      const result = Object.keys(formList)\r\n        .map(itm => {\r\n          return { [itm]: formList[itm].value };\r\n        })\r\n        .reduce((obj, el) => {\r\n          return { ...obj, ...el };\r\n        }, {});\r\n      return result;\r\n    }\r\n\r\n    function signinOk(res) {\r\n      return res.status === '200' || res.status === 200;\r\n    }\r\n\r\n    function checkIsFormOk(data) {\r\n      let result = false;\r\n      const validData = Object.keys(data).filter(\r\n        itm => data[itm].valid === false\r\n      );\r\n      if (validData.length === 0) {\r\n        result = true;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    function login(token) {\r\n      localStorage.setItem('idToken', token);\r\n      props.history.push('/');\r\n    }\r\n  };\r\n\r\n  const clearModal = useCallback(() => {\r\n    dispatchHttpStatus({ type: 'CLEAR' });\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.Signin}>\r\n      {httpStatus.error && (\r\n        <Modal show clicked={clearModal}>\r\n          {httpStatus.error}\r\n        </Modal>\r\n      )}\r\n\r\n      <div className={styles.wrap}>\r\n        <Card className={styles.card}>\r\n          <div className={styles.title}>\r\n            <span>登入</span>\r\n            <div className={styles.loading}>\r\n              {httpStatus.loading && <Loading />}\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <SignForm data={signinFormData} changed={changeHandler} />\r\n          </div>\r\n          <div className={styles.btns}>\r\n            <Button clicked={() => signinHandler(signinFormData)}>送出</Button>\r\n            <Button clicked={() => props.history.push('/signup')}>註冊</Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withErrorHandler(Signin, axios);\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Todo from './containers/Todo/Todo';\r\nimport Done from './containers/Done/Done';\r\nimport Signup from './containers/Signup/Signup';\r\nimport Signin from './containers/Signin/Signin';\r\n\r\nconst App = () => {\r\n  console.log('APP');\r\n\r\n  return (\r\n    <div>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Todo} />\r\n        <Route path=\"/done\" component={Done} />\r\n        <Route path=\"/signup\" component={Signup} />\r\n        <Route path=\"/signin\" component={Signin} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n\r\n      <div id=\"global-modal\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport './index.scss';\r\nimport App from './App';\r\n\r\nconst app = (\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>\r\n);\r\n\r\nReactDOM.render(app, document.getElementById('root'));\r\n"],"sourceRoot":""}