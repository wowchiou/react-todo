(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports={Signup:"Signup_Signup__3l2L_",wrap:"Signup_wrap__cnmpo",title:"Signup_title__Z-jWB",loading:"Signup_loading__19f_W",btns:"Signup_btns__3tHBz",popup:"Signup_popup__1i9Bu"}},14:function(e,t,n){e.exports={Signin:"Signin_Signin__29Qsq",wrap:"Signin_wrap__y1xxj",title:"Signin_title__D6oGa",loading:"Signin_loading__V8ytj",btns:"Signin_btns__30Syc",popup:"Signin_popup__36Lt4"}},18:function(e,t,n){e.exports={error:"withErrorHandler_error__1vxNE",show:"withErrorHandler_show__1AZKd",hide:"withErrorHandler_hide__GUCvq"}},19:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__26bb-",hide:"Backdrop_hide__1csbP",show:"Backdrop_show__OOqWn"}},21:function(e,t,n){e.exports={header:"Home_header__2lRvt",logout:"Home_logout__1brxZ"}},22:function(e,t,n){e.exports={NavItem:"NavItem_NavItem__3anDl"}},25:function(e,t,n){e.exports={Modal:"Modal_Modal__2Nxic",fadeInDown:"Modal_fadeInDown__PIteE",close:"Modal_close__2LYPW"}},26:function(e,t,n){e.exports={loading:"Loading_loading__3hxUF","lds-ring":"Loading_lds-ring__1VIXi"}},27:function(e,t,n){e.exports={Input:"Input_Input__2gEm4",error:"Input_error__33xaI"}},40:function(e,t,n){e.exports={Navigation:"Navigation_Navigation__UxCuy"}},41:function(e,t,n){e.exports={Button:"Button_Button__3Ur4h"}},42:function(e,t,n){e.exports={Card:"Card_Card__3yI8w"}},43:function(e,t,n){e.exports=n(72)},48:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),l=n(15),i=(n(48),n(11)),u=n(21),s=n.n(u),d=n(22),p=n.n(d),m=function(e){var t=Object(i.g)(),n=t.path,a=t.url;return console.log(n),console.log(a),r.a.createElement("li",{className:p.a.NavItem},r.a.createElement(l.b,{to:a+e.link,exact:e.exact,activeClassName:p.a.active},e.children))},g=n(40),f=n.n(g),v=function(){return r.a.createElement("ul",{className:f.a.Navigation},r.a.createElement(m,{link:"/",exact:!0},"TO DO"),r.a.createElement(m,{link:"/done"},"Done"))},E=function(e){return console.log("Todo"),r.a.createElement("div",null,"Todo")},_=function(){return console.log("Done"),r.a.createElement("div",null,"Done")},h=n(41),b=n.n(h),w=r.a.memo(function(e){return console.log("Button"),r.a.createElement("button",{className:b.a.Button,disabled:e.disabled,onClick:e.clicked},e.children)}),y=r.a.memo(w),k=function(e){var t=Object(i.g)(),n=(t.path,t.url,function(){localStorage.removeItem("idToken"),e.history.push("/signin")});return r.a.createElement("div",null,r.a.createElement("header",{className:s.a.header},r.a.createElement(v,{logout:n}),r.a.createElement("div",{className:s.a.logout},r.a.createElement(y,{clicked:n},"\u767b\u51fa"))),r.a.createElement("main",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/",exact:!0,component:E}),r.a.createElement(i.b,{path:"/done",component:_}))))},O=n(5),N=n.n(O),j=n(8),S=n(9),x=n(6),R=n(13),I=n.n(R),C=n(10),T=n.n(C),B="AIzaSyAzWGnKUYY8e6g9oASL90g7tj4TjoVCRGg",L=(T.a.create({baseURL:"https://react-my-test-fb5ea.firebaseio.com/"}),function(e){var t;return N.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(T.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key="+B,e));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}})}),P=function(e){var t;return N.a.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N.a.awrap(T.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key="+B,e));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}})},q=function(e,t){return Object(j.a)({},e,{},t)},M=function(e,t){var n=!0;if(!t)return!0;if(t.required&&!(n=""!==e.trim()&&n))return!1;if(t.minLength&&!(n=e.length>=t.minLength&&n))return!1;if(t.isEmail){if(!(n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n))return!1}return!0},z=function(e,t){switch(t.type){case"SEND":return{loading:!0,error:null};case"RESPONSE":return Object(j.a)({},e,{loading:!1});case"ERROR":return{loading:!1,error:t.errorMessage};case"CLEAR":return{loading:!1,error:null};default:throw new Error("Somthing went wrong!")}},D=n(18),A=n.n(D),U=function(e,t){return function(n){var c=function(e){var t=Object(a.useState)(null),n=Object(x.a)(t,2),r=n[0],c=n[1],o=e.interceptors.request.use(function(e){return c(null),e}),l=e.interceptors.response.use(function(e){return e},function(e){c(e)});return Object(a.useEffect)(function(){return function(){e.interceptors.request.eject(o),e.interceptors.response.eject(l)}},[e.interceptors.request,e.interceptors.response,o,l]),[r,Object(a.useCallback)(function(){c(null)},[])]}(t),o=Object(x.a)(c,2),l=o[0],i=o[1],u=[A.a.error];return l?u.push(A.a.show):u.push(A.a.hide),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:u.join(" ")},r.a.createElement("p",null,l&&l.response.data.error.message),r.a.createElement(y,{clicked:i},"\u78ba\u8a8d")),r.a.createElement(e,n))}},G=n(42),H=n.n(G),W=function(e){return r.a.createElement("div",{className:H.a.Card},e.children)},F=n(19),V=n.n(F),Y=function(e){var t=[V.a.Backdrop];return e.show?t.push(V.a.show):t.push(V.a.hide),r.a.createElement("div",{className:t.join(" "),onClick:e.clicked})},Z=n(25),J=n.n(Z),K=function(e){var t=window.document.getElementById("global-modal"),n=r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{show:e.show,clicked:e.clicked}),r.a.createElement("div",{className:J.a.Modal},r.a.createElement("div",{className:J.a.close,onClick:e.clicked},r.a.createElement("span",null),r.a.createElement("span",null)),e.children));return Object(c.createPortal)(n,t)},$=n(26),Q=n.n($),X=function(){return r.a.createElement("div",{className:Q.a.Loading},r.a.createElement("div",{className:Q.a.loading},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},ee=n(27),te=n.n(ee),ne=function(e){console.log("Input");var t=[te.a.Input];!e.valid&&e.touch&&t.push(te.a.error);var n=r.a.createElement("p",null,"Input Error");switch(e.type){case"input":return r.a.createElement("input",Object.assign({className:t.join(" "),type:e.inputType,name:e.name},e.config,{value:e.value,onChange:e.changed}));case"select":case"textarea":return;default:return n}},ae=function(e){return Object.keys(e.data).map(function(t,n){return r.a.createElement(ne,{key:t+n,type:e.data[t].type,inputType:e.data[t].inputType,name:t,config:e.data[t].config,changed:function(n){return e.changed(n,t)},value:e.data[t].value,valid:e.data[t].valid,touch:e.data[t].touch})})},re=U(function(e){console.log("SIGNUP");var t=Object(a.useReducer)(z,{loading:!1,error:null}),n=Object(x.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({email:{type:"input",inputType:"email",config:{placeholder:"email address"},value:"",validRules:{required:!0,isEmail:!0},valid:!1,touch:!1},password:{type:"input",inputType:"password",config:{placeholder:"password"},value:"",validRules:{required:!0,minLength:6},valid:!1,touch:!1},comfirnPsw:{type:"input",inputType:"password",config:{placeholder:"comfirn password"},value:"",validRules:{required:!0,minLength:6},valid:!1,touch:!1}}),i=Object(x.a)(l,2),u=i[0],s=i[1],d=Object(a.useCallback)(function(e,t){var n=e.currentTarget.value;s(function(e){var a=q(e[t],{value:n,valid:M(n,e[t].validRules),touch:!0});return q(e,Object(S.a)({},t,a))})},[]),p=Object(a.useCallback)(function(t){var n,a,r,c,l,i;return N.a.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=function(e){return e.password.value===e.comfirnPsw.value},l=function(e){var t=!1;return 0===Object.keys(e).filter(function(t){return!1===e[t].valid}).length&&(t=!0),t},c=function(e){return"200"===e.status||200===e.status},r=function(e){return Object.keys(e).map(function(t){return"email"===t||"password"===t?Object(S.a)({},t,e[t].value):{}}).reduce(function(e,t){return Object(j.a)({},e,{},t)},{})},o({type:"SEND"}),l(t)){u.next=8;break}return o({type:"ERROR",errorMessage:"\u586b\u5165\u8cc7\u6599\u4e0d\u6b63\u78ba,\u8acb\u6aa2\u67e5\u5f8c\u518d\u767c\u9001"}),u.abrupt("return");case 8:if(i(t)){u.next=11;break}return o({type:"ERROR",errorMessage:"\u5bc6\u78bc\u4e0d\u4e00\u81f4,\u8acb\u91cd\u65b0\u8f38\u5165\u5f8c\u518d\u767c\u9001"}),u.abrupt("return");case 11:return n=r(t),u.next=14,N.a.awrap(L(n));case 14:(a=u.sent)&&(c(a)?e.history.push("/signin"):(o({type:"ERROR",errorMessage:"\u5beb\u5165\u8cc7\u6599\u5931\u6557"}),console.log(a))),o({type:"RESPONSE"});case 17:case"end":return u.stop()}})},[e.history]),m=Object(a.useCallback)(function(){o({type:"CLEAR"})},[]);return r.a.createElement("div",{className:I.a.Signup},c.error&&r.a.createElement(K,{show:!0,clicked:m},c.error),r.a.createElement("div",{className:I.a.wrap},r.a.createElement(W,{className:I.a.card},r.a.createElement("div",{className:I.a.title},r.a.createElement("span",null,"\u8a3b\u518a"),r.a.createElement("div",{className:I.a.loading},c.loading&&r.a.createElement(X,null))),r.a.createElement("div",null,r.a.createElement(ae,{data:u,changed:d})),r.a.createElement("div",{className:I.a.btns},r.a.createElement(y,{clicked:function(){return p(u)}},"\u9001\u51fa"),r.a.createElement(y,{clicked:function(){return e.history.push("/signin")}},"\u767b\u5165")))))},T.a),ce=n(14),oe=n.n(ce),le=U(function(e){console.log("SIGNIN");var t=Object(a.useReducer)(z,{loading:!1,error:null}),n=Object(x.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)({email:{type:"input",inputType:"email",config:{placeholder:"email address"},value:"",validRules:{required:!0,isEmail:!0},valid:!1,touch:!1},password:{type:"input",inputType:"password",config:{placeholder:"password"},value:"",validRules:{required:!0,minLength:6},valid:!1,touch:!1}}),i=Object(x.a)(l,2),u=i[0],s=i[1],d=Object(a.useCallback)(function(){o({type:"CLEAR"})},[]);return r.a.createElement("div",{className:oe.a.Signin},c.error&&r.a.createElement(K,{show:!0,clicked:d},c.error),r.a.createElement("div",{className:oe.a.wrap},r.a.createElement(W,{className:oe.a.card},r.a.createElement("div",{className:oe.a.title},r.a.createElement("span",null,"\u767b\u5165"),r.a.createElement("div",{className:oe.a.loading},c.loading&&r.a.createElement(X,null))),r.a.createElement("div",null,r.a.createElement(ae,{data:u,changed:function(e,t){var n=e.currentTarget.value;s(function(e){var a=q(e[t],{value:n,valid:M(n,e[t].validRules),touch:!0});return q(e,Object(S.a)({},t,a))})}})),r.a.createElement("div",{className:oe.a.btns},r.a.createElement(y,{clicked:function(){return function(t){var n,a,r,c,l,i;return N.a.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=function(t){localStorage.setItem("idToken",t),e.history.push("/")},l=function(e){var t=!1;return 0===Object.keys(e).filter(function(t){return!1===e[t].valid}).length&&(t=!0),t},c=function(e){return"200"===e.status||200===e.status},r=function(e){return Object.keys(e).map(function(t){return Object(S.a)({},t,e[t].value)}).reduce(function(e,t){return Object(j.a)({},e,{},t)},{})},o({type:"SEND"}),l(t)){u.next=8;break}return o({type:"ERROR",errorMessage:"\u586b\u5165\u8cc7\u6599\u4e0d\u6b63\u78ba,\u8acb\u6aa2\u67e5\u5f8c\u518d\u767c\u9001"}),u.abrupt("return");case 8:return n=r(t),u.next=11,N.a.awrap(P(n));case 11:(a=u.sent)&&(c(a)?i(a.data.idToken):o({type:"ERROR",errorMessage:"\u767b\u5165\u5931\u6557"})),o({type:"RESPONSE"});case 14:case"end":return u.stop()}})}(u)}},"\u9001\u51fa"),r.a.createElement(y,{clicked:function(){return e.history.push("/signup")}},"\u8a3b\u518a")))))},T.a),ie=function(){return console.log("APP"),r.a.createElement("div",null,r.a.createElement(i.d,null,localStorage.getItem("idToken")&&r.a.createElement(i.b,{path:"/",exact:!0,component:k}),r.a.createElement(i.b,{path:"/signup",component:re}),r.a.createElement(i.b,{path:"/signin",component:le}),r.a.createElement(i.a,{to:"/"})),r.a.createElement("div",{id:"global-modal"}))},ue=r.a.createElement(l.a,null,r.a.createElement(ie,null));o.a.render(ue,document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.35175ce0.chunk.js.map